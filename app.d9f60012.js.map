{"version":3,"sources":["Vendors/ogl/src/math/functions/Vec3Func.js","Vendors/ogl/src/math/Vec3.js","Vendors/ogl/src/core/Renderer.js","Vendors/ogl/src/math/functions/Vec4Func.js","Vendors/ogl/src/math/functions/QuatFunc.js","Vendors/ogl/src/math/Quat.js","Vendors/ogl/src/math/functions/Mat4Func.js","Vendors/ogl/src/math/Mat4.js","Vendors/ogl/src/math/functions/EulerFunc.js","Vendors/ogl/src/math/Euler.js","Vendors/ogl/src/core/Transform.js","Vendors/ogl/src/core/Camera.js","Vendors/ogl/src/core/Texture.js","Vendors/ogl/src/core/Geometry.js","Vendors/ogl/src/extras/Plane.js","Vendors/ogl/src/core/Program.js","Vendors/ogl/src/math/functions/Mat3Func.js","Vendors/ogl/src/math/Mat3.js","Vendors/ogl/src/core/Mesh.js","Vendors/ogl/src/math/functions/Vec2Func.js","Vendors/ogl/src/math/Vec2.js","src/Quad/shader/quad.vert","src/Quad/shader/quad.frag","src/Quad/index.js","Vendors/ogl/src/extras/Triangle.js","Vendors/ogl/src/core/RenderTarget.js","src/params.js","src/Flow/shaders/triangle.vert","src/Flow/shaders/opticalflow.frag","src/Flow/shaders/capture.frag","src/Flow/shaders/blur.frag","src/Flow/index.js","Vendors/ogl/src/extras/Shadow.js","Vendors/ogl/src/extras/GPGPU.js","src/Particles/simulation/kernels/velocityCapture.frag","src/Particles/simulation/kernels/position.frag","src/Particles/simulation/kernels/velocity.frag","src/Particles/simulation/kernels/colorCapture.frag","src/Particles/simulation/index.js","src/Particles/shader/particles.vert","src/Particles/shader/particles.frag","src/Particles/shader/particlesShadow.vert","src/Particles/shader/particlesShadow.frag","src/Particles/index.js","Vendors/ogl/src/extras/Sphere.js","src/SphereNormal/shader/normal.vert","src/SphereNormal/shader/normal.frag","src/SphereNormal/index.js","src/index.js","../src/dat/index.js","../src/dat/color/toString.js","../src/dat/utils/common.js","../src/dat/color/interpret.js","../src/dat/color/math.js","../src/dat/color/Color.js","../src/dat/controllers/Controller.js","../src/dat/dom/dom.js","../src/dat/controllers/BooleanController.js","../src/dat/controllers/OptionController.js","../src/dat/controllers/StringController.js","../src/dat/controllers/NumberController.js","../src/dat/controllers/NumberControllerBox.js","../src/dat/controllers/NumberControllerSlider.js","../src/dat/controllers/FunctionController.js","../src/dat/controllers/ColorController.js","../src/dat/utils/css.js","../src/dat/gui/saveDialogue.html.js","../src/dat/controllers/ControllerFactory.js","../src/dat/utils/requestAnimationFrame.js","../src/dat/dom/CenteredDiv.js","../src/dat/gui/GUI.js","src/app.js"],"names":["EPSILON","length","a","x","y","z","Math","sqrt","copy","out","set","add","b","subtract","multiply","divide","scale","distance","squaredDistance","squaredLength","negate","inverse","normalize","len","dot","cross","ax","ay","az","bx","by","bz","lerp","t","transformMat4","m","w","scaleRotateMat4","transformMat3","transformQuat","q","qx","qy","qz","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","angle","tempA","tempB","cosine","PI","acos","exactEquals","Array","Vec3","Vec3Func","v","va","vb","mat4","o","tempVec3","ID","Renderer","canvas","document","createElement","width","height","dpr","alpha","depth","stencil","antialias","premultipliedAlpha","preserveDrawingBuffer","powerPreference","autoClear","webgl","attributes","color","id","gl","getContext","isWebgl2","renderer","setSize","state","blendFunc","src","ONE","dst","ZERO","blendEquation","modeRGB","FUNC_ADD","cullFace","frontFace","CCW","depthMask","depthFunc","LESS","premultiplyAlpha","flipY","unpackAlignment","framebuffer","viewport","textureUnits","activeTextureUnit","boundBuffer","uniformLocations","Map","extensions","getExtension","vertexAttribDivisor","drawArraysInstanced","drawElementsInstanced","createVertexArray","bindVertexArray","deleteVertexArray","drawBuffers","parameters","maxTextureUnits","getParameter","MAX_COMBINED_TEXTURE_IMAGE_UNITS","maxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","Object","assign","style","enable","disable","srcAlpha","dstAlpha","undefined","blendFuncSeparate","modeAlpha","blendEquationSeparate","value","activeTexture","TEXTURE0","target","FRAMEBUFFER","buffer","bindFramebuffer","extension","webgl2Func","extFunc","bind","renderOrder","program","zDepth","scene","camera","frustumCull","sort","renderList","updateFrustum","traverse","node","visible","draw","frustumCulled","frustumIntersectsMesh","push","opaque","transparent","ui","forEach","depthTest","worldMatrix","getTranslation","applyMatrix4","projectionViewMatrix","sortOpaque","sortTransparent","sortUI","concat","update","clear","setViewport","DEPTH_TEST","setDepthMask","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","updateMatrixWorld","getRenderList","aw","identity","setAxisAngle","axis","rad","s","sin","cos","bw","rotateX","rotateY","rotateZ","slerp","omega","cosom","sinom","scale0","scale1","invert","a0","a1","a2","a3","invDot","conjugate","fromMat3","fTrace","fRoot","i","j","k","fromEuler","euler","order","sx","cx","sy","cy","sz","cz","vec4","Quat","onChange","QuatFunc","qA","qB","matrix3","m00","m01","m02","m03","m10","m11","m12","m13","m20","m21","m22","m23","m30","m31","m32","m33","transpose","a01","a02","a03","a12","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","det","determinant","b0","b1","b2","b3","translate","rotate","c","b12","b20","b21","b22","hypot","abs","mat","getScaling","getMaxScaleOnAxis","max","getRotation","temp","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","fromQuat","yx","zx","zy","perspective","fovy","aspect","near","far","f","tan","nf","ortho","left","right","bottom","top","lr","bt","targetTo","eye","up","eyex","eyey","eyez","upx","upy","upz","z0","z1","x0","x1","multiplyScalar","Mat4","Mat4Func","ma","mb","fov","pos","fromRotationMatrix","asin","min","atan2","tmpMat4","Euler","EulerFunc","fromQuaternion","Transform","parent","children","matrix","matrixAutoUpdate","position","quaternion","rotation","notifyParent","removeChild","addChild","child","notifyChild","indexOf","setParent","splice","force","updateMatrix","worldMatrixNeedsUpdate","l","compose","callback","lookAt","tempMat4","tempVec3a","tempVec3b","Camera","zoom","projectionMatrix","viewMatrix","worldPosition","type","orthographic","fromPerspective","fromOrthogonal","frustum","constant","invLen","geometry","bounds","radius","Infinity","computeBoundingSphere","center","frustumIntersectsSphere","normal","plane","emptyPixel","Uint8Array","isPowerOf2","Texture","image","TEXTURE_2D","UNSIGNED_BYTE","format","RGBA","internalFormat","wrapS","CLAMP_TO_EDGE","wrapT","generateMipmaps","minFilter","NEAREST_MIPMAP_LINEAR","LINEAR","magFilter","anisotropy","level","texture","createTexture","store","glState","REPEAT","bindTexture","textureUnit","needsUpdate","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_CUBE_MAP","texImage2D","TEXTURE_CUBE_MAP_POSITIVE_X","ArrayBuffer","isView","isCompressedTexture","compressedTexImage2D","data","generateMipmap","onUpdate","ATTR_ID","isBoundsWarned","Geometry","key","console","error","VAOs","drawRange","start","count","instancedCount","currentGeometry","addAttribute","attr","size","constructor","Float32Array","FLOAT","Uint16Array","UNSIGNED_SHORT","UNSIGNED_INT","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","normalized","stride","offset","byteLength","divisor","instanced","createBuffer","updateAttribute","isInstanced","warn","index","bindBuffer","bufferData","STATIC_DRAW","attributeOrder","bindAttributes","attributeLocations","location","name","numLoc","vertexAttribPointer","enableVertexAttribArray","mode","TRIANGLES","createVAO","drawElements","drawArrays","array","getPositionArray","sub","computeBoundingBox","maxRadiusSq","fromArray","vao","deleteBuffer","Plane","widthSegments","heightSegments","wSegs","hSegs","num","numIndices","uv","Uint32Array","buildPlane","u","uDir","vDir","ii","io","segW","segH","iy","ix","d","arrayCacheF32","Program","vertex","fragment","uniforms","BACK","depthWrite","setBlendFunc","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderInfoLog","addLineNumbers","fragmentShader","FRAGMENT_SHADER","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteShader","numUniforms","ACTIVE_UNIFORMS","uIndex","uniform","getActiveUniform","getUniformLocation","split","match","uniformName","isStructArray","structIndex","Number","structProperty","isNaN","isStruct","locations","numAttribs","ACTIVE_ATTRIBUTES","aIndex","attribute","getActiveAttrib","getAttribLocation","join","CULL_FACE","BLEND","setCullFace","setFrontFace","setDepthFunc","setBlendEquation","flipFaces","currentProgram","useProgram","activeUniform","setUniform","applyState","CW","deleteProgram","flatten","setValue","get","slice","arraysEqual","setArray","uniform1fv","uniform1f","uniform2fv","uniform3fv","uniform4fv","uniform1iv","uniform1i","uniform2iv","uniform3iv","uniform4iv","uniformMatrix2fv","uniformMatrix3fv","uniformMatrix4fv","string","lines","arrayLen","valueLen","warnCount","message","fromMat4","normalFromMat4","projection","Mat3","Mat3Func","vec3a","vec3b","vec3c","Mesh","modelViewMatrix","normalMatrix","beforeRenderCallbacks","afterRenderCallbacks","mesh","modelMatrix","cameraPosition","getNormalMatrix","use","transformMat2","transformMat2d","Vec2","Vec2Func","mat3","module","exports","vert","require","frag","Quad","_Video","_Output","_Resolution","inputVideo","readyState","HAVE_CURRENT_DATA","Triangle","RenderTarget","depthTexture","createFramebuffer","textures","framebufferTexture2D","COLOR_ATTACHMENT0","NEAREST","DEPTH_COMPONENT","DEPTH_COMPONENT16","DEPTH_ATTACHMENT","depthBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","framebufferRenderbuffer","stencilBuffer","STENCIL_INDEX8","STENCIL_ATTACHMENT","depthStencilBuffer","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","params","blur","ITERATIONS","opticalFlow","TINY","THRESHOLD","FADE","OFFSETSCALE","simulation","velocity","FORCE","INERTIA","shadow","SIZE","BIAS","opticalFlowFrag","captureFrag","Flow","firstTick","initCameraCapture","initBlurPass","initOpticalFlowPass","cameraFrame","currentFrame","prevFrame","_CameraFrame","cameraCapturePass","textureParams","blurTextureWrite","blurTextureRead","blurDirectionX","blurDirectionY","_Texture","_Flip","_BlurDirection","blurPass","HALF_FLOAT","HALF_FLOAT_OES","RGBA16F","flowVectorTextureWrite","flowVectorTextureRead","_CurrentFrame","_PrevFrame","_PrevFlow","_TexelSize","_Tiny","_Threshold","_Fade","_OffsetScale","_Scale","opticalFlowPass","blurIterationCount","blurRadius","render","tmp","tmp2","blurInputVideo","saveCameraFrame","Shadow","light","depthProgram","defaultVertex","defaultFragment","castMeshes","receive","cast","uniformProjection","uniformView","uniformTexture","colorProgram","isForceVisibility","GPGPU","initialData","passes","dataLength","pow","ceil","log","LN2","coords","floor","floatArray","RGBA32F","options","fbo","read","write","swap","textureUniform","enabled","pass","filter","velocityCaptureKernel","positionKernel","velocityKernel","colorCaptureKernel","Simulator","calcViewportDimensions","_Aspect","velocityCapture","countX","countY","viewportWidth","viewportHeight","viewProjectionMatrix","initEvents","initVelocityCapture","initVelocity","initPosition","dist","window","addEventListener","onResize","initCapturedVelocityData","_OpticalFlow","_Position","_TextureProjectionMatrix","addPass","initVelocityData","gui","listen","_OpticalFlowVelocity","_Force","_Inertia","initPositionData","widthBounds","heightBounds","positionIterator","posX","random","posY","paramsData","paramsDataIterator","paramsTexture","createDataTexture","_Velocity","_Params","_Bounds","_Seed","initColorData","colorCapture","_InputImg","updateVelocity","updatePosition","captureVelocity","shadowVertex","shadowFragment","Particles","initSimulator","initGeometry","initProgram","initShadowPass","simulator","refGeometry","localPositionData","normalData","uvData","indexData","Position","Velocity","_Color","Color","_ShadowMapTexelSize","_ShadowWeight","_Bias","_Normal","shadowCamera","shadowPass","Sphere","phiStart","phiLength","thetaStart","thetaLength","pStart","pLength","tStart","tLength","iv","te","grid","n","vRow","SphereNormal","clearColor","OpticalFlowParticles","innerWidth","h","innerHeight","overflow","zIndex","body","appendChild","initVideo","initOpticalFlow","initParticles","initQuad","streamAvailable","video","videoTexture","navigator","mediaDevices","getUserMedia","audio","then","stream","srcObject","play","catch","flow","sphereNormal","particles","requestAnimationFrame","forceCSSHex","colorFormat","__state","conversionName","toString","r","round","g","toFixed","str","hex","ARR_EACH","prototype","ARR_SLICE","Common","each","call","arguments","obj","isObject","keys","isUndefined","toCall","args","apply","itr","scope","BREAK","fnc","func","threshold","callImmediately","timeout","callNow","setTimeout","delayed","toArray","isArray","Function","INTERPRETATIONS","common","isString","original","test","parseInt","parseFloat","isNumber","result","toReturn","interpret","family","litmus","conversions","conversion","tmpComponent","ColorMath","hi","p","delta","NaN","hex_with_component","componentIndex","Error","colorToString","defineRGBComponent","component","componentHexIndex","defineProperty","space","recalculateRGB","defineHSVComponent","recalculateHSV","math","component_from_hex","extend","hsv_to_rgb","rgb_to_hsv","COMPONENTS","rgb_to_hex","Controller","object","property","initialValue","domElement","__onChange","__onFinishChange","newValue","updateDisplay","getValue","EVENT_MAP","EVENT_MAP_INV","e","CSS_VALUE_PIXELS","cssValueToPixels","val","isNull","dom","elem","selectable","onselectstart","MozUserSelect","KhtmlUserSelect","unselectable","hor","vertical","horizontal","eventType","pars","aux","className","evt","createEvent","clientX","clientY","initMouseEvent","bubbles","cancelable","clickCount","init","initKeyboardEvent","initKeyEvent","defaults","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode","initEvent","dispatchEvent","event","newBool","bool","attachEvent","removeEventListener","detachEvent","classes","replace","removeAttribute","RegExp","getComputedStyle","el","offsetParent","offsetLeft","offsetTop","activeElement","href","BooleanController","_this","__prev","__checkbox","setAttribute","checked","OptionController","opts","__select","map","element","opt","innerHTML","desiredValue","selectedIndex","isActive","StringController","__input","onBlur","numDecimals","_x","NumberController","_params","__min","__max","__step","step","__impliedStep","LN10","__precision","_v","minValue","maxValue","stepValue","roundToDecimal","decimals","tenTo","NumberControllerBox","__truncationSuspended","prevY","onFinish","onMouseDrag","diff","onMouseUp","unbind","attempted","onMouseDown","i1","i2","o1","o2","NumberControllerSlider","preventDefault","bgRect","__background","getBoundingClientRect","onTouchMove","touches","onTouchEnd","__foreground","onTouchStart","addClass","pct","FunctionController","text","__button","fire","ColorController","__color","__temp","makeSelectable","__selector","__saturation_field","__field_knob","__field_knob_border","__hue_knob","__hue_field","__input_textShadow","removeClass","valueField","fieldDown","setSV","fieldUpSV","fieldDownH","setH","fieldUpH","toOriginal","fieldRect","mismatch","flip","_flip","toHexString","marginTop","vendors","linearGradient","background","vendor","cssText","hueGradient","css","url","indoc","doc","link","rel","getElementsByTagName","cssContent","injected","head","saveDialogContents","ControllerFactory","isFunction","isBoolean","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","CenteredDiv","backgroundElement","makeFullscreen","hide","display","opacity","webkitTransform","layout","defer","getWidth","getHeight","inject","styleSheet","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","localStorage","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","__ul","__folders","__controllers","__rememberedObjects","__rememberedObjectIndecesToControllers","__listening","DEFAULT_WIDTH","autoPlace","load","preset","hideable","resizable","scrollable","useLocalStorage","root","getItem","getLocalStorageHash","saveToLocalStorage","titleRow","defineProperties","closeOnTop","getRoot","revert","closed","CLASS_CLOSED","__closeButton","TEXT_OPEN","TEXT_CLOSED","setItem","CLASS_MAIN","savedGui","JSON","parse","CLASS_CLOSE_BUTTON","CLASS_CLOSE_TOP","insertBefore","childNodes","CLASS_CLOSE_BOTTOM","titleRowName","createTextNode","addRow","CLASS_AUTO_PLACE_CONTAINER","CLASS_AUTO_PLACE","__resizeHandler","onResizeDebounced","stringify","getSaveObject","saveToLocalStorageIfPossible","newDom","liBefore","li","removeListeners","markPresetModified","modified","__preset_select","augmentController","controller","__li","__gui","nextSibling","nextElementSibling","remove","firstElementChild","box","method","pc","pb","returned","oldName","wasListening","newController","fakeEvent","stopPropagation","borderLeftColor","isModified","recallSavedValue","matchedIndex","controllerMap","remembered","presetMap","factoryArgs","before","container","CLASS_CONTROLLER_ROW","addPresetOption","setSelected","showHideExplain","explain","addSaveMenu","div","__save_row","firstChild","gears","button","button2","button3","select","getElementById","localStorageCheckBox","newConstructorTextArea","which","show","focus","save","presetName","prompt","saveAs","addResizeHandle","pmouseX","drag","dragStop","CLASS_DRAG","dragStart","__resize_handle","setWidth","getCurrentPreset","useInitialValues","savedValues","setPresetSelectIndex","updateDisplays","controllerArray","toggleHide","CLASS_TOO_TALL","_keydownHandler","subfolder","removeFolder","newGuiParams","folders","folder","parentElement","getOffset","offsetHeight","debounce","saveDialogueContents","controllers","domImport","GUIImport","App","dat","onload"],"mappings":"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","file":"app.d9f60012.js","sourceRoot":"..","sourcesContent":["const EPSILON = 0.000001;\r\n\r\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\r\nexport function set(out, x, y, z) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    out[2] = a[2] * b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    out[2] = a[2] / b[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return Math.sqrt(x * x + y * y + z * z);\r\n}\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    let x = b[0] - a[0];\r\n    let y = b[1] - a[1];\r\n    let z = b[2] - a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    return x * x + y * y + z * z;\r\n}\r\n\r\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    out[2] = 1.0 / a[2];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let len = x * x + y * y + z * z;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    out[2] = a[2] * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\r\n}\r\n\r\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\r\nexport function cross(out, a, b) {\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2];\r\n\r\n    out[0] = ay * bz - az * by;\r\n    out[1] = az * bx - ax * bz;\r\n    out[2] = ax * by - ay * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec3} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n    w = w || 1.0;\r\n    out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\r\n    out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\r\n    out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Same as above but doesn't apply translation.\r\n * Useful for rays.\r\n */\r\nexport function scaleRotateMat4(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let w = m[3] * x + m[7] * y + m[11] * z + m[15];\r\n    w = w || 1.0;\r\n    out[0] = (m[0] * x + m[4] * y + m[8] * z) / w;\r\n    out[1] = (m[1] * x + m[5] * y + m[9] * z) / w;\r\n    out[2] = (m[2] * x + m[6] * y + m[10] * z) / w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    out[0] = x * m[0] + y * m[3] + z * m[6];\r\n    out[1] = x * m[1] + y * m[4] + z * m[7];\r\n    out[2] = x * m[2] + y * m[5] + z * m[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec3 with a quat\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\r\nexport function transformQuat(out, a, q) {\r\n    // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\r\n\r\n    let x = a[0],\r\n        y = a[1],\r\n        z = a[2];\r\n    let qx = q[0],\r\n        qy = q[1],\r\n        qz = q[2],\r\n        qw = q[3];\r\n\r\n    let uvx = qy * z - qz * y;\r\n    let uvy = qz * x - qx * z;\r\n    let uvz = qx * y - qy * x;\r\n\r\n    let uuvx = qy * uvz - qz * uvy;\r\n    let uuvy = qz * uvx - qx * uvz;\r\n    let uuvz = qx * uvy - qy * uvx;\r\n\r\n    let w2 = qw * 2;\r\n    uvx *= w2;\r\n    uvy *= w2;\r\n    uvz *= w2;\r\n\r\n    uuvx *= 2;\r\n    uuvy *= 2;\r\n    uuvz *= 2;\r\n\r\n    out[0] = x + uvx + uuvx;\r\n    out[1] = y + uvy + uuvy;\r\n    out[2] = z + uvz + uuvz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\r\nexport const angle = (function () {\r\n    const tempA = [0, 0, 0];\r\n    const tempB = [0, 0, 0];\r\n\r\n    return function (a, b) {\r\n        copy(tempA, a);\r\n        copy(tempB, b);\r\n\r\n        normalize(tempA, tempA);\r\n        normalize(tempB, tempB);\r\n\r\n        let cosine = dot(tempA, tempB);\r\n\r\n        if (cosine > 1.0) {\r\n            return 0;\r\n        } else if (cosine < -1.0) {\r\n            return Math.PI;\r\n        } else {\r\n            return Math.acos(cosine);\r\n        }\r\n    };\r\n})();\r\n\r\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\r\n}\r\n","import * as Vec3Func from './functions/Vec3Func.js';\r\n\r\nexport class Vec3 extends Array {\r\n    constructor(x = 0, y = x, z = x) {\r\n        super(x, y, z);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec3Func.set(this, x, y, z);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec3Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec3Func.add(this, va, vb);\r\n        else Vec3Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec3Func.subtract(this, va, vb);\r\n        else Vec3Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec3Func.multiply(this, this, v);\r\n        else Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec3Func.divide(this, this, v);\r\n        else Vec3Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec3Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec3Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec3Func.distance(this, v);\r\n        else return Vec3Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return Vec3Func.squaredLength(this);\r\n    }\r\n\r\n    squaredDistance(v) {\r\n        if (v) return Vec3Func.squaredDistance(this, v);\r\n        else return Vec3Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec3Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if (vb) Vec3Func.cross(this, va, vb);\r\n        else Vec3Func.cross(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    scale(v) {\r\n        Vec3Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec3Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec3Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec3Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec3Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    scaleRotateMatrix4(mat4) {\r\n        Vec3Func.scaleRotateMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    applyQuaternion(q) {\r\n        Vec3Func.transformQuat(this, this, q);\r\n        return this;\r\n    }\r\n\r\n    angle(v) {\r\n        return Vec3Func.angle(this, v);\r\n    }\r\n\r\n    lerp(v, t) {\r\n        Vec3Func.lerp(this, this, v, t);\r\n        return this;\r\n    }\r\n\r\n    clone() {\r\n        return new Vec3(this[0], this[1], this[2]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        return a;\r\n    }\r\n\r\n    transformDirection(mat4) {\r\n        const x = this[0];\r\n        const y = this[1];\r\n        const z = this[2];\r\n\r\n        this[0] = mat4[0] * x + mat4[4] * y + mat4[8] * z;\r\n        this[1] = mat4[1] * x + mat4[5] * y + mat4[9] * z;\r\n        this[2] = mat4[2] * x + mat4[6] * y + mat4[10] * z;\r\n\r\n        return this.normalize();\r\n    }\r\n}\r\n","import { Vec3 } from '../math/Vec3.js';\r\n\r\n// TODO: Handle context loss https://www.khronos.org/webgl/wiki/HandlingContextLost\r\n\r\n// Not automatic - devs to use these methods manually\r\n// gl.colorMask( colorMask, colorMask, colorMask, colorMask );\r\n// gl.clearColor( r, g, b, a );\r\n// gl.stencilMask( stencilMask );\r\n// gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\r\n// gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\r\n// gl.clearStencil( stencil );\r\n\r\nconst tempVec3 = new Vec3();\r\nlet ID = 1;\r\n\r\nexport class Renderer {\r\n    constructor({\r\n        canvas = document.createElement('canvas'),\r\n        width = 300,\r\n        height = 150,\r\n        dpr = 1,\r\n        alpha = false,\r\n        depth = true,\r\n        stencil = false,\r\n        antialias = false,\r\n        premultipliedAlpha = false,\r\n        preserveDrawingBuffer = false,\r\n        powerPreference = 'default',\r\n        autoClear = true,\r\n        webgl = 2,\r\n    } = {}) {\r\n        const attributes = { alpha, depth, stencil, antialias, premultipliedAlpha, preserveDrawingBuffer, powerPreference };\r\n        this.dpr = dpr;\r\n        this.alpha = alpha;\r\n        this.color = true;\r\n        this.depth = depth;\r\n        this.stencil = stencil;\r\n        this.premultipliedAlpha = premultipliedAlpha;\r\n        this.autoClear = autoClear;\r\n        this.id = ID++;\r\n\r\n        // Attempt WebGL2 unless forced to 1, if not supported fallback to WebGL1\r\n        if (webgl === 2) this.gl = canvas.getContext('webgl2', attributes);\r\n        this.isWebgl2 = !!this.gl;\r\n        if (!this.gl) {\r\n            this.gl = canvas.getContext('webgl', attributes) || canvas.getContext('experimental-webgl', attributes);\r\n        }\r\n\r\n        // Attach renderer to gl so that all classes have access to internal state functions\r\n        this.gl.renderer = this;\r\n\r\n        // initialise size values\r\n        this.setSize(width, height);\r\n\r\n        // gl state stores to avoid redundant calls on methods used internally\r\n        this.state = {};\r\n        this.state.blendFunc = { src: this.gl.ONE, dst: this.gl.ZERO };\r\n        this.state.blendEquation = { modeRGB: this.gl.FUNC_ADD };\r\n        this.state.cullFace = null;\r\n        this.state.frontFace = this.gl.CCW;\r\n        this.state.depthMask = true;\r\n        this.state.depthFunc = this.gl.LESS;\r\n        this.state.premultiplyAlpha = false;\r\n        this.state.flipY = false;\r\n        this.state.unpackAlignment = 4;\r\n        this.state.framebuffer = null;\r\n        this.state.viewport = { width: null, height: null };\r\n        this.state.textureUnits = [];\r\n        this.state.activeTextureUnit = 0;\r\n        this.state.boundBuffer = null;\r\n        this.state.uniformLocations = new Map();\r\n\r\n        // store requested extensions\r\n        this.extensions = {};\r\n\r\n        // Initialise extra format types\r\n        if (this.isWebgl2) {\r\n            this.getExtension('EXT_color_buffer_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n        } else {\r\n            this.getExtension('OES_texture_float');\r\n            this.getExtension('OES_texture_float_linear');\r\n            this.getExtension('OES_texture_half_float');\r\n            this.getExtension('OES_texture_half_float_linear');\r\n            this.getExtension('OES_element_index_uint');\r\n            this.getExtension('OES_standard_derivatives');\r\n            this.getExtension('EXT_sRGB');\r\n            this.getExtension('WEBGL_depth_texture');\r\n            this.getExtension('WEBGL_draw_buffers');\r\n        }\r\n\r\n        // Create method aliases using extension (WebGL1) or native if available (WebGL2)\r\n        this.vertexAttribDivisor = this.getExtension('ANGLE_instanced_arrays', 'vertexAttribDivisor', 'vertexAttribDivisorANGLE');\r\n        this.drawArraysInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawArraysInstanced', 'drawArraysInstancedANGLE');\r\n        this.drawElementsInstanced = this.getExtension('ANGLE_instanced_arrays', 'drawElementsInstanced', 'drawElementsInstancedANGLE');\r\n        this.createVertexArray = this.getExtension('OES_vertex_array_object', 'createVertexArray', 'createVertexArrayOES');\r\n        this.bindVertexArray = this.getExtension('OES_vertex_array_object', 'bindVertexArray', 'bindVertexArrayOES');\r\n        this.deleteVertexArray = this.getExtension('OES_vertex_array_object', 'deleteVertexArray', 'deleteVertexArrayOES');\r\n        this.drawBuffers = this.getExtension('WEBGL_draw_buffers', 'drawBuffers', 'drawBuffersWEBGL');\r\n\r\n        // Store device parameters\r\n        this.parameters = {};\r\n        this.parameters.maxTextureUnits = this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS);\r\n        this.parameters.maxAnisotropy = this.getExtension('EXT_texture_filter_anisotropic')\r\n            ? this.gl.getParameter(this.getExtension('EXT_texture_filter_anisotropic').MAX_TEXTURE_MAX_ANISOTROPY_EXT)\r\n            : 0;\r\n    }\r\n\r\n    setSize(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n\r\n        this.gl.canvas.width = width * this.dpr;\r\n        this.gl.canvas.height = height * this.dpr;\r\n\r\n        Object.assign(this.gl.canvas.style, {\r\n            width: width + 'px',\r\n            height: height + 'px',\r\n        });\r\n    }\r\n\r\n    setViewport(width, height) {\r\n        if (this.state.viewport.width === width && this.state.viewport.height === height) return;\r\n        this.state.viewport.width = width;\r\n        this.state.viewport.height = height;\r\n        this.gl.viewport(0, 0, width, height);\r\n    }\r\n\r\n    enable(id) {\r\n        if (this.state[id] === true) return;\r\n        this.gl.enable(id);\r\n        this.state[id] = true;\r\n    }\r\n\r\n    disable(id) {\r\n        if (this.state[id] === false) return;\r\n        this.gl.disable(id);\r\n        this.state[id] = false;\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        if (\r\n            this.state.blendFunc.src === src &&\r\n            this.state.blendFunc.dst === dst &&\r\n            this.state.blendFunc.srcAlpha === srcAlpha &&\r\n            this.state.blendFunc.dstAlpha === dstAlpha\r\n        )\r\n            return;\r\n        this.state.blendFunc.src = src;\r\n        this.state.blendFunc.dst = dst;\r\n        this.state.blendFunc.srcAlpha = srcAlpha;\r\n        this.state.blendFunc.dstAlpha = dstAlpha;\r\n        if (srcAlpha !== undefined) this.gl.blendFuncSeparate(src, dst, srcAlpha, dstAlpha);\r\n        else this.gl.blendFunc(src, dst);\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        if (this.state.blendEquation.modeRGB === modeRGB && this.state.blendEquation.modeAlpha === modeAlpha) return;\r\n        this.state.blendEquation.modeRGB = modeRGB;\r\n        this.state.blendEquation.modeAlpha = modeAlpha;\r\n        if (modeAlpha !== undefined) this.gl.blendEquationSeparate(modeRGB, modeAlpha);\r\n        else this.gl.blendEquation(modeRGB);\r\n    }\r\n\r\n    setCullFace(value) {\r\n        if (this.state.cullFace === value) return;\r\n        this.state.cullFace = value;\r\n        this.gl.cullFace(value);\r\n    }\r\n\r\n    setFrontFace(value) {\r\n        if (this.state.frontFace === value) return;\r\n        this.state.frontFace = value;\r\n        this.gl.frontFace(value);\r\n    }\r\n\r\n    setDepthMask(value) {\r\n        if (this.state.depthMask === value) return;\r\n        this.state.depthMask = value;\r\n        this.gl.depthMask(value);\r\n    }\r\n\r\n    setDepthFunc(value) {\r\n        if (this.state.depthFunc === value) return;\r\n        this.state.depthFunc = value;\r\n        this.gl.depthFunc(value);\r\n    }\r\n\r\n    activeTexture(value) {\r\n        if (this.state.activeTextureUnit === value) return;\r\n        this.state.activeTextureUnit = value;\r\n        this.gl.activeTexture(this.gl.TEXTURE0 + value);\r\n    }\r\n\r\n    bindFramebuffer({ target = this.gl.FRAMEBUFFER, buffer = null } = {}) {\r\n        if (this.state.framebuffer === buffer) return;\r\n        this.state.framebuffer = buffer;\r\n        this.gl.bindFramebuffer(target, buffer);\r\n    }\r\n\r\n    getExtension(extension, webgl2Func, extFunc) {\r\n        // if webgl2 function supported, return func bound to gl context\r\n        if (webgl2Func && this.gl[webgl2Func]) return this.gl[webgl2Func].bind(this.gl);\r\n\r\n        // fetch extension once only\r\n        if (!this.extensions[extension]) {\r\n            this.extensions[extension] = this.gl.getExtension(extension);\r\n        }\r\n\r\n        // return extension if no function requested\r\n        if (!webgl2Func) return this.extensions[extension];\r\n\r\n        // Return null if extension not supported\r\n        if (!this.extensions[extension]) return null;\r\n\r\n        // return extension function, bound to extension\r\n        return this.extensions[extension][extFunc].bind(this.extensions[extension]);\r\n    }\r\n\r\n    sortOpaque(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else if (a.zDepth !== b.zDepth) {\r\n            return a.zDepth - b.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortTransparent(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        }\r\n        if (a.zDepth !== b.zDepth) {\r\n            return b.zDepth - a.zDepth;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    sortUI(a, b) {\r\n        if (a.renderOrder !== b.renderOrder) {\r\n            return a.renderOrder - b.renderOrder;\r\n        } else if (a.program.id !== b.program.id) {\r\n            return a.program.id - b.program.id;\r\n        } else {\r\n            return b.id - a.id;\r\n        }\r\n    }\r\n\r\n    getRenderList({ scene, camera, frustumCull, sort }) {\r\n        let renderList = [];\r\n\r\n        if (camera && frustumCull) camera.updateFrustum();\r\n\r\n        // Get visible\r\n        scene.traverse((node) => {\r\n            if (!node.visible) return true;\r\n            if (!node.draw) return;\r\n\r\n            if (frustumCull && node.frustumCulled && camera) {\r\n                if (!camera.frustumIntersectsMesh(node)) return;\r\n            }\r\n\r\n            renderList.push(node);\r\n        });\r\n\r\n        if (sort) {\r\n            const opaque = [];\r\n            const transparent = []; // depthTest true\r\n            const ui = []; // depthTest false\r\n\r\n            renderList.forEach((node) => {\r\n                // Split into the 3 render groups\r\n                if (!node.program.transparent) {\r\n                    opaque.push(node);\r\n                } else if (node.program.depthTest) {\r\n                    transparent.push(node);\r\n                } else {\r\n                    ui.push(node);\r\n                }\r\n\r\n                node.zDepth = 0;\r\n\r\n                // Only calculate z-depth if renderOrder unset and depthTest is true\r\n                if (node.renderOrder !== 0 || !node.program.depthTest || !camera) return;\r\n\r\n                // update z-depth\r\n                node.worldMatrix.getTranslation(tempVec3);\r\n                tempVec3.applyMatrix4(camera.projectionViewMatrix);\r\n                node.zDepth = tempVec3.z;\r\n            });\r\n\r\n            opaque.sort(this.sortOpaque);\r\n            transparent.sort(this.sortTransparent);\r\n            ui.sort(this.sortUI);\r\n\r\n            renderList = opaque.concat(transparent, ui);\r\n        }\r\n\r\n        return renderList;\r\n    }\r\n\r\n    render({ scene, camera, target = null, update = true, sort = true, frustumCull = true, clear }) {\r\n        if (target === null) {\r\n            // make sure no render target bound so draws to canvas\r\n            this.bindFramebuffer();\r\n            this.setViewport(this.width * this.dpr, this.height * this.dpr);\r\n        } else {\r\n            // bind supplied render target and update viewport\r\n            this.bindFramebuffer(target);\r\n            this.setViewport(target.width, target.height);\r\n        }\r\n\r\n        if (clear || (this.autoClear && clear !== false)) {\r\n            // Ensure depth buffer writing is enabled so it can be cleared\r\n            if (this.depth && (!target || target.depth)) {\r\n                this.enable(this.gl.DEPTH_TEST);\r\n                this.setDepthMask(true);\r\n            }\r\n            this.gl.clear(\r\n                (this.color ? this.gl.COLOR_BUFFER_BIT : 0) |\r\n                    (this.depth ? this.gl.DEPTH_BUFFER_BIT : 0) |\r\n                    (this.stencil ? this.gl.STENCIL_BUFFER_BIT : 0)\r\n            );\r\n        }\r\n\r\n        // updates all scene graph matrices\r\n        if (update) scene.updateMatrixWorld();\r\n\r\n        // Update camera separately, in case not in scene graph\r\n        if (camera) camera.updateMatrixWorld();\r\n\r\n        // Get render list - entails culling and sorting\r\n        const renderList = this.getRenderList({ scene, camera, frustumCull, sort });\r\n\r\n        renderList.forEach((node) => {\r\n            node.draw({ camera });\r\n        });\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\r\nexport function set(out, x, y, z, w) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    out[2] = z;\r\n    out[3] = w;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    return Math.sqrt(x * x + y * y + z * z + w * w);\r\n}\r\n\r\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\r\nexport function normalize(out, a) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    let z = a[2];\r\n    let w = a[3];\r\n    let len = x * x + y * y + z * z + w * w;\r\n    if (len > 0) {\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = x * len;\r\n    out[1] = y * len;\r\n    out[2] = z * len;\r\n    out[3] = w * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec4} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    let ax = a[0];\r\n    let ay = a[1];\r\n    let az = a[2];\r\n    let aw = a[3];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    out[2] = az + t * (b[2] - az);\r\n    out[3] = aw + t * (b[3] - aw);\r\n    return out;\r\n}\r\n","import * as vec4 from './Vec4Func.js';\r\n\r\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 0;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\r\nexport function setAxisAngle(out, axis, rad) {\r\n    rad = rad * 0.5;\r\n    let s = Math.sin(rad);\r\n    out[0] = s * axis[0];\r\n    out[1] = s * axis[1];\r\n    out[2] = s * axis[2];\r\n    out[3] = Math.cos(rad);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two quats\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2],\r\n        bw = b[3];\r\n\r\n    out[0] = ax * bw + aw * bx + ay * bz - az * by;\r\n    out[1] = ay * bw + aw * by + az * bx - ax * bz;\r\n    out[2] = az * bw + aw * bz + ax * by - ay * bx;\r\n    out[3] = aw * bw - ax * bx - ay * by - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateX(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + aw * bx;\r\n    out[1] = ay * bw + az * bx;\r\n    out[2] = az * bw - ay * bx;\r\n    out[3] = aw * bw - ax * bx;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateY(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let by = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw - az * by;\r\n    out[1] = ay * bw + aw * by;\r\n    out[2] = az * bw + ax * by;\r\n    out[3] = aw * bw - ay * by;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\r\nexport function rotateZ(out, a, rad) {\r\n    rad *= 0.5;\r\n\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bz = Math.sin(rad),\r\n        bw = Math.cos(rad);\r\n\r\n    out[0] = ax * bw + ay * bz;\r\n    out[1] = ay * bw - ax * bz;\r\n    out[2] = az * bw + aw * bz;\r\n    out[3] = aw * bw - az * bz;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n */\r\nexport function slerp(out, a, b, t) {\r\n    // benchmarks:\r\n    //    http://jsperf.com/quaternion-slerp-implementations\r\n    let ax = a[0],\r\n        ay = a[1],\r\n        az = a[2],\r\n        aw = a[3];\r\n    let bx = b[0],\r\n        by = b[1],\r\n        bz = b[2],\r\n        bw = b[3];\r\n\r\n    let omega, cosom, sinom, scale0, scale1;\r\n\r\n    // calc cosine\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    // adjust signs (if necessary)\r\n    if (cosom < 0.0) {\r\n        cosom = -cosom;\r\n        bx = -bx;\r\n        by = -by;\r\n        bz = -bz;\r\n        bw = -bw;\r\n    }\r\n    // calculate coefficients\r\n    if (1.0 - cosom > 0.000001) {\r\n        // standard case (slerp)\r\n        omega = Math.acos(cosom);\r\n        sinom = Math.sin(omega);\r\n        scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n        scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n        // \"from\" and \"to\" quaternions are very close\r\n        //  ... so we can do a linear interpolation\r\n        scale0 = 1.0 - t;\r\n        scale1 = t;\r\n    }\r\n    // calculate final values\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\r\nexport function invert(out, a) {\r\n    let a0 = a[0],\r\n        a1 = a[1],\r\n        a2 = a[2],\r\n        a3 = a[3];\r\n    let dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\r\n    let invDot = dot ? 1.0 / dot : 0;\r\n\r\n    // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\r\n\r\n    out[0] = -a0 * invDot;\r\n    out[1] = -a1 * invDot;\r\n    out[2] = -a2 * invDot;\r\n    out[3] = a3 * invDot;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\r\nexport function conjugate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    out[2] = -a[2];\r\n    out[3] = a[3];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromMat3(out, m) {\r\n    // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\r\n    // article \"Quaternion Calculus and Fast Animation\".\r\n    let fTrace = m[0] + m[4] + m[8];\r\n    let fRoot;\r\n\r\n    if (fTrace > 0.0) {\r\n        // |w| > 1/2, may as well choose w > 1/2\r\n        fRoot = Math.sqrt(fTrace + 1.0); // 2w\r\n        out[3] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot; // 1/(4w)\r\n        out[0] = (m[5] - m[7]) * fRoot;\r\n        out[1] = (m[6] - m[2]) * fRoot;\r\n        out[2] = (m[1] - m[3]) * fRoot;\r\n    } else {\r\n        // |w| <= 1/2\r\n        let i = 0;\r\n        if (m[4] > m[0]) i = 1;\r\n        if (m[8] > m[i * 3 + i]) i = 2;\r\n        let j = (i + 1) % 3;\r\n        let k = (i + 2) % 3;\r\n\r\n        fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\r\n        out[i] = 0.5 * fRoot;\r\n        fRoot = 0.5 / fRoot;\r\n        out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\r\n        out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\r\n        out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} euler Angles to rotate around each axis in degrees.\r\n * @param {String} order detailing order of operations. Default 'XYZ'.\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport function fromEuler(out, euler, order = 'YXZ') {\r\n    let sx = Math.sin(euler[0] * 0.5);\r\n    let cx = Math.cos(euler[0] * 0.5);\r\n    let sy = Math.sin(euler[1] * 0.5);\r\n    let cy = Math.cos(euler[1] * 0.5);\r\n    let sz = Math.sin(euler[2] * 0.5);\r\n    let cz = Math.cos(euler[2] * 0.5);\r\n\r\n    if (order === 'XYZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'YXZ') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'ZXY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'ZYX') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    } else if (order === 'YZX') {\r\n        out[0] = sx * cy * cz + cx * sy * sz;\r\n        out[1] = cx * sy * cz + sx * cy * sz;\r\n        out[2] = cx * cy * sz - sx * sy * cz;\r\n        out[3] = cx * cy * cz - sx * sy * sz;\r\n    } else if (order === 'XZY') {\r\n        out[0] = sx * cy * cz - cx * sy * sz;\r\n        out[1] = cx * sy * cz - sx * cy * sz;\r\n        out[2] = cx * cy * sz + sx * sy * cz;\r\n        out[3] = cx * cy * cz + sx * sy * sz;\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const copy = vec4.copy;\r\n\r\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const set = vec4.set;\r\n\r\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const add = vec4.add;\r\n\r\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const scale = vec4.scale;\r\n\r\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\r\nexport const dot = vec4.dot;\r\n\r\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const lerp = vec4.lerp;\r\n\r\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport const length = vec4.length;\r\n\r\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\r\nexport const normalize = vec4.normalize;\r\n","import * as QuatFunc from './functions/QuatFunc.js';\r\n\r\nexport class Quat extends Array {\r\n    constructor(x = 0, y = 0, z = 0, w = 1) {\r\n        super(x, y, z, w);\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    get w() {\r\n        return this[3];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set w(v) {\r\n        this[3] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    identity() {\r\n        QuatFunc.identity(this);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    set(x, y, z, w) {\r\n        if (x.length) return this.copy(x);\r\n        QuatFunc.set(this, x, y, z, w);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateX(a) {\r\n        QuatFunc.rotateX(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateY(a) {\r\n        QuatFunc.rotateY(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    rotateZ(a) {\r\n        QuatFunc.rotateZ(this, this, a);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    inverse(q = this) {\r\n        QuatFunc.invert(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    conjugate(q = this) {\r\n        QuatFunc.conjugate(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(q) {\r\n        QuatFunc.copy(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    normalize(q = this) {\r\n        QuatFunc.normalize(this, q);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    multiply(qA, qB) {\r\n        if (qB) {\r\n            QuatFunc.multiply(this, qA, qB);\r\n        } else {\r\n            QuatFunc.multiply(this, this, qA);\r\n        }\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return QuatFunc.dot(this, v);\r\n    }\r\n\r\n    fromMatrix3(matrix3) {\r\n        QuatFunc.fromMat3(this, matrix3);\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromEuler(euler) {\r\n        QuatFunc.fromEuler(this, euler, euler.order);\r\n        return this;\r\n    }\r\n\r\n    fromAxisAngle(axis, a) {\r\n        QuatFunc.setAxisAngle(this, axis, a);\r\n        return this;\r\n    }\r\n\r\n    slerp(q, t) {\r\n        QuatFunc.slerp(this, this, q, t);\r\n        return this;\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        this[3] = a[o + 3];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        a[o + 3] = this[3];\r\n        return a;\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    out[9] = a[9];\r\n    out[10] = a[10];\r\n    out[11] = a[11];\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m03;\r\n    out[4] = m10;\r\n    out[5] = m11;\r\n    out[6] = m12;\r\n    out[7] = m13;\r\n    out[8] = m20;\r\n    out[9] = m21;\r\n    out[10] = m22;\r\n    out[11] = m23;\r\n    out[12] = m30;\r\n    out[13] = m31;\r\n    out[14] = m32;\r\n    out[15] = m33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = 1;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 1;\r\n    out[11] = 0;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1],\r\n            a02 = a[2],\r\n            a03 = a[3];\r\n        let a12 = a[6],\r\n            a13 = a[7];\r\n        let a23 = a[11];\r\n\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a01;\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a02;\r\n        out[9] = a12;\r\n        out[11] = a[14];\r\n        out[12] = a03;\r\n        out[13] = a13;\r\n        out[14] = a23;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[4];\r\n        out[2] = a[8];\r\n        out[3] = a[12];\r\n        out[4] = a[1];\r\n        out[5] = a[5];\r\n        out[6] = a[9];\r\n        out[7] = a[13];\r\n        out[8] = a[2];\r\n        out[9] = a[6];\r\n        out[10] = a[10];\r\n        out[11] = a[14];\r\n        out[12] = a[3];\r\n        out[13] = a[7];\r\n        out[14] = a[11];\r\n        out[15] = a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\r\n    out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\r\n    out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n    out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n    out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n    out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\r\n    out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\r\n    out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\r\n    out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\r\n    out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n}\r\n\r\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    // Cache only the current line of the second matrix\r\n    let b0 = b[0],\r\n        b1 = b[1],\r\n        b2 = b[2],\r\n        b3 = b[3];\r\n    out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[4];\r\n    b1 = b[5];\r\n    b2 = b[6];\r\n    b3 = b[7];\r\n    out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[8];\r\n    b1 = b[9];\r\n    b2 = b[10];\r\n    b3 = b[11];\r\n    out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n\r\n    b0 = b[12];\r\n    b1 = b[13];\r\n    b2 = b[14];\r\n    b3 = b[15];\r\n    out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\r\n    out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\r\n    out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\r\n    out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1],\r\n        z = v[2];\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n\r\n    if (a === out) {\r\n        out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\r\n        out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\r\n        out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\r\n        out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\r\n    } else {\r\n        a00 = a[0];\r\n        a01 = a[1];\r\n        a02 = a[2];\r\n        a03 = a[3];\r\n        a10 = a[4];\r\n        a11 = a[5];\r\n        a12 = a[6];\r\n        a13 = a[7];\r\n        a20 = a[8];\r\n        a21 = a[9];\r\n        a22 = a[10];\r\n        a23 = a[11];\r\n\r\n        out[0] = a00;\r\n        out[1] = a01;\r\n        out[2] = a02;\r\n        out[3] = a03;\r\n        out[4] = a10;\r\n        out[5] = a11;\r\n        out[6] = a12;\r\n        out[7] = a13;\r\n        out[8] = a20;\r\n        out[9] = a21;\r\n        out[10] = a22;\r\n        out[11] = a23;\r\n\r\n        out[12] = a00 * x + a10 * y + a20 * z + a[12];\r\n        out[13] = a01 * x + a11 * y + a21 * z + a[13];\r\n        out[14] = a02 * x + a12 * y + a22 * z + a[14];\r\n        out[15] = a03 * x + a13 * y + a23 * z + a[15];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1],\r\n        z = v[2];\r\n\r\n    out[0] = a[0] * x;\r\n    out[1] = a[1] * x;\r\n    out[2] = a[2] * x;\r\n    out[3] = a[3] * x;\r\n    out[4] = a[4] * y;\r\n    out[5] = a[5] * y;\r\n    out[6] = a[6] * y;\r\n    out[7] = a[7] * y;\r\n    out[8] = a[8] * z;\r\n    out[9] = a[9] * z;\r\n    out[10] = a[10] * z;\r\n    out[11] = a[11] * z;\r\n    out[12] = a[12];\r\n    out[13] = a[13];\r\n    out[14] = a[14];\r\n    out[15] = a[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\r\nexport function rotate(out, a, rad, axis) {\r\n    let x = axis[0],\r\n        y = axis[1],\r\n        z = axis[2];\r\n    let len = Math.hypot(x, y, z);\r\n    let s, c, t;\r\n    let a00, a01, a02, a03;\r\n    let a10, a11, a12, a13;\r\n    let a20, a21, a22, a23;\r\n    let b00, b01, b02;\r\n    let b10, b11, b12;\r\n    let b20, b21, b22;\r\n\r\n    if (Math.abs(len) < EPSILON) {\r\n        return null;\r\n    }\r\n\r\n    len = 1 / len;\r\n    x *= len;\r\n    y *= len;\r\n    z *= len;\r\n\r\n    s = Math.sin(rad);\r\n    c = Math.cos(rad);\r\n    t = 1 - c;\r\n\r\n    a00 = a[0];\r\n    a01 = a[1];\r\n    a02 = a[2];\r\n    a03 = a[3];\r\n    a10 = a[4];\r\n    a11 = a[5];\r\n    a12 = a[6];\r\n    a13 = a[7];\r\n    a20 = a[8];\r\n    a21 = a[9];\r\n    a22 = a[10];\r\n    a23 = a[11];\r\n\r\n    // Construct the elements of the rotation matrix\r\n    b00 = x * x * t + c;\r\n    b01 = y * x * t + z * s;\r\n    b02 = z * x * t - y * s;\r\n    b10 = x * y * t - z * s;\r\n    b11 = y * y * t + c;\r\n    b12 = z * y * t + x * s;\r\n    b20 = x * z * t + y * s;\r\n    b21 = y * z * t - x * s;\r\n    b22 = z * z * t + c;\r\n\r\n    // Perform rotation-specific matrix multiplication\r\n    out[0] = a00 * b00 + a10 * b01 + a20 * b02;\r\n    out[1] = a01 * b00 + a11 * b01 + a21 * b02;\r\n    out[2] = a02 * b00 + a12 * b01 + a22 * b02;\r\n    out[3] = a03 * b00 + a13 * b01 + a23 * b02;\r\n    out[4] = a00 * b10 + a10 * b11 + a20 * b12;\r\n    out[5] = a01 * b10 + a11 * b11 + a21 * b12;\r\n    out[6] = a02 * b10 + a12 * b11 + a22 * b12;\r\n    out[7] = a03 * b10 + a13 * b11 + a23 * b12;\r\n    out[8] = a00 * b20 + a10 * b21 + a20 * b22;\r\n    out[9] = a01 * b20 + a11 * b21 + a21 * b22;\r\n    out[10] = a02 * b20 + a12 * b21 + a22 * b22;\r\n    out[11] = a03 * b20 + a13 * b21 + a23 * b22;\r\n\r\n    if (a !== out) {\r\n        // If the source and destination differ, copy the unchanged last row\r\n        out[12] = a[12];\r\n        out[13] = a[13];\r\n        out[14] = a[14];\r\n        out[15] = a[15];\r\n    }\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getTranslation(out, mat) {\r\n    out[0] = mat[12];\r\n    out[1] = mat[13];\r\n    out[2] = mat[14];\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\r\nexport function getScaling(out, mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    out[0] = Math.hypot(m11, m12, m13);\r\n    out[1] = Math.hypot(m21, m22, m23);\r\n    out[2] = Math.hypot(m31, m32, m33);\r\n\r\n    return out;\r\n}\r\n\r\nexport function getMaxScaleOnAxis(mat) {\r\n    let m11 = mat[0];\r\n    let m12 = mat[1];\r\n    let m13 = mat[2];\r\n    let m21 = mat[4];\r\n    let m22 = mat[5];\r\n    let m23 = mat[6];\r\n    let m31 = mat[8];\r\n    let m32 = mat[9];\r\n    let m33 = mat[10];\r\n\r\n    const x = m11 * m11 + m12 * m12 + m13 * m13;\r\n    const y = m21 * m21 + m22 * m22 + m23 * m23;\r\n    const z = m31 * m31 + m32 * m32 + m33 * m33;\r\n\r\n    return Math.sqrt(Math.max(x, y, z));\r\n}\r\n\r\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\r\nexport const getRotation = (function () {\r\n    const temp = [0, 0, 0];\r\n\r\n    return function (out, mat) {\r\n        let scaling = temp;\r\n        getScaling(scaling, mat);\r\n\r\n        let is1 = 1 / scaling[0];\r\n        let is2 = 1 / scaling[1];\r\n        let is3 = 1 / scaling[2];\r\n\r\n        let sm11 = mat[0] * is1;\r\n        let sm12 = mat[1] * is2;\r\n        let sm13 = mat[2] * is3;\r\n        let sm21 = mat[4] * is1;\r\n        let sm22 = mat[5] * is2;\r\n        let sm23 = mat[6] * is3;\r\n        let sm31 = mat[8] * is1;\r\n        let sm32 = mat[9] * is2;\r\n        let sm33 = mat[10] * is3;\r\n\r\n        let trace = sm11 + sm22 + sm33;\r\n        let S = 0;\r\n\r\n        if (trace > 0) {\r\n            S = Math.sqrt(trace + 1.0) * 2;\r\n            out[3] = 0.25 * S;\r\n            out[0] = (sm23 - sm32) / S;\r\n            out[1] = (sm31 - sm13) / S;\r\n            out[2] = (sm12 - sm21) / S;\r\n        } else if (sm11 > sm22 && sm11 > sm33) {\r\n            S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\r\n            out[3] = (sm23 - sm32) / S;\r\n            out[0] = 0.25 * S;\r\n            out[1] = (sm12 + sm21) / S;\r\n            out[2] = (sm31 + sm13) / S;\r\n        } else if (sm22 > sm33) {\r\n            S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\r\n            out[3] = (sm31 - sm13) / S;\r\n            out[0] = (sm12 + sm21) / S;\r\n            out[1] = 0.25 * S;\r\n            out[2] = (sm23 + sm32) / S;\r\n        } else {\r\n            S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\r\n            out[3] = (sm12 - sm21) / S;\r\n            out[0] = (sm31 + sm13) / S;\r\n            out[1] = (sm23 + sm32) / S;\r\n            out[2] = 0.25 * S;\r\n        }\r\n\r\n        return out;\r\n    };\r\n})();\r\n\r\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\r\nexport function fromRotationTranslationScale(out, q, v, s) {\r\n    // Quaternion math\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let xy = x * y2;\r\n    let xz = x * z2;\r\n    let yy = y * y2;\r\n    let yz = y * z2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n    let sx = s[0];\r\n    let sy = s[1];\r\n    let sz = s[2];\r\n\r\n    out[0] = (1 - (yy + zz)) * sx;\r\n    out[1] = (xy + wz) * sx;\r\n    out[2] = (xz - wy) * sx;\r\n    out[3] = 0;\r\n    out[4] = (xy - wz) * sy;\r\n    out[5] = (1 - (xx + zz)) * sy;\r\n    out[6] = (yz + wx) * sy;\r\n    out[7] = 0;\r\n    out[8] = (xz + wy) * sz;\r\n    out[9] = (yz - wx) * sz;\r\n    out[10] = (1 - (xx + yy)) * sz;\r\n    out[11] = 0;\r\n    out[12] = v[0];\r\n    out[13] = v[1];\r\n    out[14] = v[2];\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[1] = yx + wz;\r\n    out[2] = zx - wy;\r\n    out[3] = 0;\r\n\r\n    out[4] = yx - wz;\r\n    out[5] = 1 - xx - zz;\r\n    out[6] = zy + wx;\r\n    out[7] = 0;\r\n\r\n    out[8] = zx + wy;\r\n    out[9] = zy - wx;\r\n    out[10] = 1 - xx - yy;\r\n    out[11] = 0;\r\n\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 0;\r\n    out[15] = 1;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a perspective projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function perspective(out, fovy, aspect, near, far) {\r\n    let f = 1.0 / Math.tan(fovy / 2);\r\n    let nf = 1 / (near - far);\r\n    out[0] = f / aspect;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = f;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = (far + near) * nf;\r\n    out[11] = -1;\r\n    out[12] = 0;\r\n    out[13] = 0;\r\n    out[14] = 2 * far * near * nf;\r\n    out[15] = 0;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\r\nexport function ortho(out, left, right, bottom, top, near, far) {\r\n    let lr = 1 / (left - right);\r\n    let bt = 1 / (bottom - top);\r\n    let nf = 1 / (near - far);\r\n    out[0] = -2 * lr;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 0;\r\n    out[5] = -2 * bt;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 0;\r\n    out[9] = 0;\r\n    out[10] = 2 * nf;\r\n    out[11] = 0;\r\n    out[12] = (left + right) * lr;\r\n    out[13] = (top + bottom) * bt;\r\n    out[14] = (far + near) * nf;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} target Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\r\nexport function targetTo(out, eye, target, up) {\r\n    let eyex = eye[0],\r\n        eyey = eye[1],\r\n        eyez = eye[2],\r\n        upx = up[0],\r\n        upy = up[1],\r\n        upz = up[2];\r\n\r\n    let z0 = eyex - target[0],\r\n        z1 = eyey - target[1],\r\n        z2 = eyez - target[2];\r\n\r\n    let len = z0 * z0 + z1 * z1 + z2 * z2;\r\n    if (len === 0) {\r\n        // eye and target are in the same position\r\n        z2 = 1;\r\n    } else {\r\n        len = 1 / Math.sqrt(len);\r\n        z0 *= len;\r\n        z1 *= len;\r\n        z2 *= len;\r\n    }\r\n\r\n    let x0 = upy * z2 - upz * z1,\r\n        x1 = upz * z0 - upx * z2,\r\n        x2 = upx * z1 - upy * z0;\r\n\r\n    len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    if (len === 0) {\r\n        // up and z are parallel\r\n        if (upz) {\r\n            upx += 1e-6;\r\n        } else if (upy) {\r\n            upz += 1e-6;\r\n        } else {\r\n            upy += 1e-6;\r\n        }\r\n        (x0 = upy * z2 - upz * z1), (x1 = upz * z0 - upx * z2), (x2 = upx * z1 - upy * z0);\r\n\r\n        len = x0 * x0 + x1 * x1 + x2 * x2;\r\n    }\r\n\r\n    len = 1 / Math.sqrt(len);\r\n    x0 *= len;\r\n    x1 *= len;\r\n    x2 *= len;\r\n\r\n    out[0] = x0;\r\n    out[1] = x1;\r\n    out[2] = x2;\r\n    out[3] = 0;\r\n    out[4] = z1 * x2 - z2 * x1;\r\n    out[5] = z2 * x0 - z0 * x2;\r\n    out[6] = z0 * x1 - z1 * x0;\r\n    out[7] = 0;\r\n    out[8] = z0;\r\n    out[9] = z1;\r\n    out[10] = z2;\r\n    out[11] = 0;\r\n    out[12] = eyex;\r\n    out[13] = eyey;\r\n    out[14] = eyez;\r\n    out[15] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    out[9] = a[9] + b[9];\r\n    out[10] = a[10] + b[10];\r\n    out[11] = a[11] + b[11];\r\n    out[12] = a[12] + b[12];\r\n    out[13] = a[13] + b[13];\r\n    out[14] = a[14] + b[14];\r\n    out[15] = a[15] + b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    out[9] = a[9] - b[9];\r\n    out[10] = a[10] - b[10];\r\n    out[11] = a[11] - b[11];\r\n    out[12] = a[12] - b[12];\r\n    out[13] = a[13] - b[13];\r\n    out[14] = a[14] - b[14];\r\n    out[15] = a[15] - b[15];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    out[9] = a[9] * b;\r\n    out[10] = a[10] * b;\r\n    out[11] = a[11] * b;\r\n    out[12] = a[12] * b;\r\n    out[13] = a[13] * b;\r\n    out[14] = a[14] * b;\r\n    out[15] = a[15] * b;\r\n    return out;\r\n}\r\n","import * as Mat4Func from './functions/Mat4Func.js';\r\n\r\nexport class Mat4 extends Array {\r\n    constructor(\r\n        m00 = 1,\r\n        m01 = 0,\r\n        m02 = 0,\r\n        m03 = 0,\r\n        m10 = 0,\r\n        m11 = 1,\r\n        m12 = 0,\r\n        m13 = 0,\r\n        m20 = 0,\r\n        m21 = 0,\r\n        m22 = 1,\r\n        m23 = 0,\r\n        m30 = 0,\r\n        m31 = 0,\r\n        m32 = 0,\r\n        m33 = 1\r\n    ) {\r\n        super(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[12];\r\n    }\r\n\r\n    get y() {\r\n        return this[13];\r\n    }\r\n\r\n    get z() {\r\n        return this[14];\r\n    }\r\n\r\n    get w() {\r\n        return this[15];\r\n    }\r\n\r\n    set x(v) {\r\n        this[12] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[13] = v;\r\n    }\r\n\r\n    set z(v) {\r\n        this[14] = v;\r\n    }\r\n\r\n    set w(v) {\r\n        this[15] = v;\r\n    }\r\n\r\n    set(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat4Func.set(this, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat4Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, axis, m = this) {\r\n        Mat4Func.rotate(this, m, v, axis);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat4Func.scale(this, m, typeof v === 'number' ? [v, v, v] : v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat4Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat4Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat4Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat4Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromPerspective({ fov, aspect, near, far } = {}) {\r\n        Mat4Func.perspective(this, fov, aspect, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromOrthogonal({ left, right, bottom, top, near, far }) {\r\n        Mat4Func.ortho(this, left, right, bottom, top, near, far);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat4Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    setPosition(v) {\r\n        this.x = v[0];\r\n        this.y = v[1];\r\n        this.z = v[2];\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat4Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    compose(q, pos, scale) {\r\n        Mat4Func.fromRotationTranslationScale(this, q, pos, scale);\r\n        return this;\r\n    }\r\n\r\n    getRotation(q) {\r\n        Mat4Func.getRotation(q, this);\r\n        return this;\r\n    }\r\n\r\n    getTranslation(pos) {\r\n        Mat4Func.getTranslation(pos, this);\r\n        return this;\r\n    }\r\n\r\n    getScaling(scale) {\r\n        Mat4Func.getScaling(scale, this);\r\n        return this;\r\n    }\r\n\r\n    getMaxScaleOnAxis() {\r\n        return Mat4Func.getMaxScaleOnAxis(this);\r\n    }\r\n\r\n    lookAt(eye, target, up) {\r\n        Mat4Func.targetTo(this, eye, target, up);\r\n        return this;\r\n    }\r\n\r\n    determinant() {\r\n        return Mat4Func.determinant(this);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        this[2] = a[o + 2];\r\n        this[3] = a[o + 3];\r\n        this[4] = a[o + 4];\r\n        this[5] = a[o + 5];\r\n        this[6] = a[o + 6];\r\n        this[7] = a[o + 7];\r\n        this[8] = a[o + 8];\r\n        this[9] = a[o + 9];\r\n        this[10] = a[o + 10];\r\n        this[11] = a[o + 11];\r\n        this[12] = a[o + 12];\r\n        this[13] = a[o + 13];\r\n        this[14] = a[o + 14];\r\n        this[15] = a[o + 15];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        a[o + 2] = this[2];\r\n        a[o + 3] = this[3];\r\n        a[o + 4] = this[4];\r\n        a[o + 5] = this[5];\r\n        a[o + 6] = this[6];\r\n        a[o + 7] = this[7];\r\n        a[o + 8] = this[8];\r\n        a[o + 9] = this[9];\r\n        a[o + 10] = this[10];\r\n        a[o + 11] = this[11];\r\n        a[o + 12] = this[12];\r\n        a[o + 13] = this[13];\r\n        a[o + 14] = this[14];\r\n        a[o + 15] = this[15];\r\n        return a;\r\n    }\r\n}\r\n","// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\r\nexport function fromRotationMatrix(out, m, order = 'YXZ') {\r\n    if (order === 'XYZ') {\r\n        out[1] = Math.asin(Math.min(Math.max(m[8], -1), 1));\r\n        if (Math.abs(m[8]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'YXZ') {\r\n        out[0] = Math.asin(-Math.min(Math.max(m[9], -1), 1));\r\n        if (Math.abs(m[9]) < 0.99999) {\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n            out[2] = Math.atan2(m[1], m[5]);\r\n        } else {\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n            out[2] = 0;\r\n        }\r\n    } else if (order === 'ZXY') {\r\n        out[0] = Math.asin(Math.min(Math.max(m[6], -1), 1));\r\n        if (Math.abs(m[6]) < 0.99999) {\r\n            out[1] = Math.atan2(-m[2], m[10]);\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        } else {\r\n            out[1] = 0;\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        }\r\n    } else if (order === 'ZYX') {\r\n        out[1] = Math.asin(-Math.min(Math.max(m[2], -1), 1));\r\n        if (Math.abs(m[2]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[10]);\r\n            out[2] = Math.atan2(m[1], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[2] = Math.atan2(-m[4], m[5]);\r\n        }\r\n    } else if (order === 'YZX') {\r\n        out[2] = Math.asin(Math.min(Math.max(m[1], -1), 1));\r\n        if (Math.abs(m[1]) < 0.99999) {\r\n            out[0] = Math.atan2(-m[9], m[5]);\r\n            out[1] = Math.atan2(-m[2], m[0]);\r\n        } else {\r\n            out[0] = 0;\r\n            out[1] = Math.atan2(m[8], m[10]);\r\n        }\r\n    } else if (order === 'XZY') {\r\n        out[2] = Math.asin(-Math.min(Math.max(m[4], -1), 1));\r\n        if (Math.abs(m[4]) < 0.99999) {\r\n            out[0] = Math.atan2(m[6], m[5]);\r\n            out[1] = Math.atan2(m[8], m[0]);\r\n        } else {\r\n            out[0] = Math.atan2(-m[9], m[10]);\r\n            out[1] = 0;\r\n        }\r\n    }\r\n\r\n    return out;\r\n}\r\n","import * as EulerFunc from './functions/EulerFunc.js';\r\nimport { Mat4 } from './Mat4.js';\r\n\r\nconst tmpMat4 = new Mat4();\r\n\r\nexport class Euler extends Array {\r\n    constructor(x = 0, y = x, z = x, order = 'YXZ') {\r\n        super(x, y, z);\r\n        this.order = order;\r\n        this.onChange = () => {};\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    get z() {\r\n        return this[2];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set z(v) {\r\n        this[2] = v;\r\n        this.onChange();\r\n    }\r\n\r\n    set(x, y = x, z = x) {\r\n        if (x.length) return this.copy(x);\r\n        this[0] = x;\r\n        this[1] = y;\r\n        this[2] = z;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        this[0] = v[0];\r\n        this[1] = v[1];\r\n        this[2] = v[2];\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    reorder(order) {\r\n        this.order = order;\r\n        this.onChange();\r\n        return this;\r\n    }\r\n\r\n    fromRotationMatrix(m, order = this.order) {\r\n        EulerFunc.fromRotationMatrix(this, m, order);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q, order = this.order) {\r\n        tmpMat4.fromQuaternion(q);\r\n        return this.fromRotationMatrix(tmpMat4, order);\r\n    }\r\n}\r\n","import { Vec3 } from '../math/Vec3.js';\r\nimport { Quat } from '../math/Quat.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\nimport { Euler } from '../math/Euler.js';\r\n\r\nexport class Transform {\r\n    constructor() {\r\n        this.parent = null;\r\n        this.children = [];\r\n        this.visible = true;\r\n\r\n        this.matrix = new Mat4();\r\n        this.worldMatrix = new Mat4();\r\n        this.matrixAutoUpdate = true;\r\n\r\n        this.position = new Vec3();\r\n        this.quaternion = new Quat();\r\n        this.scale = new Vec3(1);\r\n        this.rotation = new Euler();\r\n        this.up = new Vec3(0, 1, 0);\r\n\r\n        this.rotation.onChange = () => this.quaternion.fromEuler(this.rotation);\r\n        this.quaternion.onChange = () => this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    setParent(parent, notifyParent = true) {\r\n        if (notifyParent && this.parent && parent !== this.parent) this.parent.removeChild(this, false);\r\n        this.parent = parent;\r\n        if (notifyParent && parent) parent.addChild(this, false);\r\n    }\r\n\r\n    addChild(child, notifyChild = true) {\r\n        if (!~this.children.indexOf(child)) this.children.push(child);\r\n        if (notifyChild) child.setParent(this, false);\r\n    }\r\n\r\n    removeChild(child, notifyChild = true) {\r\n        if (!!~this.children.indexOf(child)) this.children.splice(this.children.indexOf(child), 1);\r\n        if (notifyChild) child.setParent(null, false);\r\n    }\r\n\r\n    updateMatrixWorld(force) {\r\n        if (this.matrixAutoUpdate) this.updateMatrix();\r\n        if (this.worldMatrixNeedsUpdate || force) {\r\n            if (this.parent === null) this.worldMatrix.copy(this.matrix);\r\n            else this.worldMatrix.multiply(this.parent.worldMatrix, this.matrix);\r\n            this.worldMatrixNeedsUpdate = false;\r\n            force = true;\r\n        }\r\n\r\n        for (let i = 0, l = this.children.length; i < l; i++) {\r\n            this.children[i].updateMatrixWorld(force);\r\n        }\r\n    }\r\n\r\n    updateMatrix() {\r\n        this.matrix.compose(this.quaternion, this.position, this.scale);\r\n        this.worldMatrixNeedsUpdate = true;\r\n    }\r\n\r\n    traverse(callback) {\r\n        // Return true in callback to stop traversing children\r\n        if (callback(this)) return;\r\n        for (let i = 0, l = this.children.length; i < l; i++) {\r\n            this.children[i].traverse(callback);\r\n        }\r\n    }\r\n\r\n    decompose() {\r\n        this.matrix.getTranslation(this.position);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.matrix.getScaling(this.scale);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n\r\n    lookAt(target, invert = false) {\r\n        if (invert) this.matrix.lookAt(this.position, target, this.up);\r\n        else this.matrix.lookAt(target, this.position, this.up);\r\n        this.matrix.getRotation(this.quaternion);\r\n        this.rotation.fromQuaternion(this.quaternion);\r\n    }\r\n}\r\n","import { Transform } from './Transform.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nconst tempMat4 = new Mat4();\r\nconst tempVec3a = new Vec3();\r\nconst tempVec3b = new Vec3();\r\n\r\nexport class Camera extends Transform {\r\n    constructor(gl, { near = 0.1, far = 100, fov = 45, aspect = 1, left, right, bottom, top, zoom = 1 } = {}) {\r\n        super();\r\n\r\n        Object.assign(this, { near, far, fov, aspect, left, right, bottom, top, zoom });\r\n\r\n        this.projectionMatrix = new Mat4();\r\n        this.viewMatrix = new Mat4();\r\n        this.projectionViewMatrix = new Mat4();\r\n        this.worldPosition = new Vec3();\r\n\r\n        // Use orthographic if left/right set, else default to perspective camera\r\n        this.type = left || right ? 'orthographic' : 'perspective';\r\n\r\n        if (this.type === 'orthographic') this.orthographic();\r\n        else this.perspective();\r\n    }\r\n\r\n    perspective({ near = this.near, far = this.far, fov = this.fov, aspect = this.aspect } = {}) {\r\n        Object.assign(this, { near, far, fov, aspect });\r\n        this.projectionMatrix.fromPerspective({ fov: fov * (Math.PI / 180), aspect, near, far });\r\n        this.type = 'perspective';\r\n        return this;\r\n    }\r\n\r\n    orthographic({\r\n        near = this.near,\r\n        far = this.far,\r\n        left = this.left,\r\n        right = this.right,\r\n        bottom = this.bottom,\r\n        top = this.top,\r\n        zoom = this.zoom,\r\n    } = {}) {\r\n        Object.assign(this, { near, far, left, right, bottom, top, zoom });\r\n        left /= zoom;\r\n        right /= zoom;\r\n        bottom /= zoom;\r\n        top /= zoom;\r\n        this.projectionMatrix.fromOrthogonal({ left, right, bottom, top, near, far });\r\n        this.type = 'orthographic';\r\n        return this;\r\n    }\r\n\r\n    updateMatrixWorld() {\r\n        super.updateMatrixWorld();\r\n        this.viewMatrix.inverse(this.worldMatrix);\r\n        this.worldMatrix.getTranslation(this.worldPosition);\r\n\r\n        // used for sorting\r\n        this.projectionViewMatrix.multiply(this.projectionMatrix, this.viewMatrix);\r\n        return this;\r\n    }\r\n\r\n    lookAt(target) {\r\n        super.lookAt(target, true);\r\n        return this;\r\n    }\r\n\r\n    // Project 3D coordinate to 2D point\r\n    project(v) {\r\n        v.applyMatrix4(this.viewMatrix);\r\n        v.applyMatrix4(this.projectionMatrix);\r\n        return this;\r\n    }\r\n\r\n    // Unproject 2D point to 3D coordinate\r\n    unproject(v) {\r\n        v.applyMatrix4(tempMat4.inverse(this.projectionMatrix));\r\n        v.applyMatrix4(this.worldMatrix);\r\n        return this;\r\n    }\r\n\r\n    updateFrustum() {\r\n        if (!this.frustum) {\r\n            this.frustum = [new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3(), new Vec3()];\r\n        }\r\n\r\n        const m = this.projectionViewMatrix;\r\n        this.frustum[0].set(m[3] - m[0], m[7] - m[4], m[11] - m[8]).constant = m[15] - m[12]; // -x\r\n        this.frustum[1].set(m[3] + m[0], m[7] + m[4], m[11] + m[8]).constant = m[15] + m[12]; // +x\r\n        this.frustum[2].set(m[3] + m[1], m[7] + m[5], m[11] + m[9]).constant = m[15] + m[13]; // +y\r\n        this.frustum[3].set(m[3] - m[1], m[7] - m[5], m[11] - m[9]).constant = m[15] - m[13]; // -y\r\n        this.frustum[4].set(m[3] - m[2], m[7] - m[6], m[11] - m[10]).constant = m[15] - m[14]; // +z (far)\r\n        this.frustum[5].set(m[3] + m[2], m[7] + m[6], m[11] + m[10]).constant = m[15] + m[14]; // -z (near)\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const invLen = 1.0 / this.frustum[i].distance();\r\n            this.frustum[i].multiply(invLen);\r\n            this.frustum[i].constant *= invLen;\r\n        }\r\n    }\r\n\r\n    frustumIntersectsMesh(node) {\r\n        // If no position attribute, treat as frustumCulled false\r\n        if (!node.geometry.attributes.position) return true;\r\n\r\n        if (!node.geometry.bounds || node.geometry.bounds.radius === Infinity) node.geometry.computeBoundingSphere();\r\n\r\n        if (!node.geometry.bounds) return true;\r\n\r\n        const center = tempVec3a;\r\n        center.copy(node.geometry.bounds.center);\r\n        center.applyMatrix4(node.worldMatrix);\r\n\r\n        const radius = node.geometry.bounds.radius * node.worldMatrix.getMaxScaleOnAxis();\r\n\r\n        return this.frustumIntersectsSphere(center, radius);\r\n    }\r\n\r\n    frustumIntersectsSphere(center, radius) {\r\n        const normal = tempVec3b;\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n            const plane = this.frustum[i];\r\n            const distance = normal.copy(plane).dot(center) + plane.constant;\r\n            if (distance < -radius) return false;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n","// TODO: delete texture\r\n// TODO: use texSubImage2D for updates (video or when loaded)\r\n// TODO: need? encoding = linearEncoding\r\n// TODO: support non-compressed mipmaps uploads\r\n\r\nconst emptyPixel = new Uint8Array(4);\r\n\r\nfunction isPowerOf2(value) {\r\n    return (value & (value - 1)) === 0;\r\n}\r\n\r\nlet ID = 1;\r\n\r\nexport class Texture {\r\n    constructor(\r\n        gl,\r\n        {\r\n            image,\r\n            target = gl.TEXTURE_2D,\r\n            type = gl.UNSIGNED_BYTE,\r\n            format = gl.RGBA,\r\n            internalFormat = format,\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            generateMipmaps = true,\r\n            minFilter = generateMipmaps ? gl.NEAREST_MIPMAP_LINEAR : gl.LINEAR,\r\n            magFilter = gl.LINEAR,\r\n            premultiplyAlpha = false,\r\n            unpackAlignment = 4,\r\n            flipY = target == gl.TEXTURE_2D ? true : false,\r\n            anisotropy = 0,\r\n            level = 0,\r\n            width, // used for RenderTargets or Data Textures\r\n            height = width,\r\n        } = {}\r\n    ) {\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n\r\n        this.image = image;\r\n        this.target = target;\r\n        this.type = type;\r\n        this.format = format;\r\n        this.internalFormat = internalFormat;\r\n        this.minFilter = minFilter;\r\n        this.magFilter = magFilter;\r\n        this.wrapS = wrapS;\r\n        this.wrapT = wrapT;\r\n        this.generateMipmaps = generateMipmaps;\r\n        this.premultiplyAlpha = premultiplyAlpha;\r\n        this.unpackAlignment = unpackAlignment;\r\n        this.flipY = flipY;\r\n        this.anisotropy = Math.min(anisotropy, this.gl.renderer.parameters.maxAnisotropy);\r\n        this.level = level;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.texture = this.gl.createTexture();\r\n\r\n        this.store = {\r\n            image: null,\r\n        };\r\n\r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // State store to avoid redundant calls for per-texture state\r\n        this.state = {};\r\n        this.state.minFilter = this.gl.NEAREST_MIPMAP_LINEAR;\r\n        this.state.magFilter = this.gl.LINEAR;\r\n        this.state.wrapS = this.gl.REPEAT;\r\n        this.state.wrapT = this.gl.REPEAT;\r\n        this.state.anisotropy = 0;\r\n    }\r\n\r\n    bind() {\r\n        // Already bound to active texture unit\r\n        if (this.glState.textureUnits[this.glState.activeTextureUnit] === this.id) return;\r\n        this.gl.bindTexture(this.target, this.texture);\r\n        this.glState.textureUnits[this.glState.activeTextureUnit] = this.id;\r\n    }\r\n\r\n    update(textureUnit = 0) {\r\n        const needsUpdate = !(this.image === this.store.image && !this.needsUpdate);\r\n\r\n        // Make sure that texture is bound to its texture unit\r\n        if (needsUpdate || this.glState.textureUnits[textureUnit] !== this.id) {\r\n            // set active texture unit to perform texture functions\r\n            this.gl.renderer.activeTexture(textureUnit);\r\n            this.bind();\r\n        }\r\n\r\n        if (!needsUpdate) return;\r\n        this.needsUpdate = false;\r\n\r\n        if (this.flipY !== this.glState.flipY) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, this.flipY);\r\n            this.glState.flipY = this.flipY;\r\n        }\r\n\r\n        if (this.premultiplyAlpha !== this.glState.premultiplyAlpha) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\r\n            this.glState.premultiplyAlpha = this.premultiplyAlpha;\r\n        }\r\n\r\n        if (this.unpackAlignment !== this.glState.unpackAlignment) {\r\n            this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT, this.unpackAlignment);\r\n            this.glState.unpackAlignment = this.unpackAlignment;\r\n        }\r\n\r\n        if (this.minFilter !== this.state.minFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MIN_FILTER, this.minFilter);\r\n            this.state.minFilter = this.minFilter;\r\n        }\r\n\r\n        if (this.magFilter !== this.state.magFilter) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_MAG_FILTER, this.magFilter);\r\n            this.state.magFilter = this.magFilter;\r\n        }\r\n\r\n        if (this.wrapS !== this.state.wrapS) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_S, this.wrapS);\r\n            this.state.wrapS = this.wrapS;\r\n        }\r\n\r\n        if (this.wrapT !== this.state.wrapT) {\r\n            this.gl.texParameteri(this.target, this.gl.TEXTURE_WRAP_T, this.wrapT);\r\n            this.state.wrapT = this.wrapT;\r\n        }\r\n\r\n        if (this.anisotropy && this.anisotropy !== this.state.anisotropy) {\r\n            this.gl.texParameterf(\r\n                this.target,\r\n                this.gl.renderer.getExtension('EXT_texture_filter_anisotropic').TEXTURE_MAX_ANISOTROPY_EXT,\r\n                this.anisotropy\r\n            );\r\n            this.state.anisotropy = this.anisotropy;\r\n        }\r\n\r\n        if (this.image) {\r\n            if (this.image.width) {\r\n                this.width = this.image.width;\r\n                this.height = this.image.height;\r\n            }\r\n\r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n                // For cube maps\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(\r\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\r\n                        this.level,\r\n                        this.internalFormat,\r\n                        this.format,\r\n                        this.type,\r\n                        this.image[i]\r\n                    );\r\n                }\r\n            } else if (ArrayBuffer.isView(this.image)) {\r\n                // Data texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, this.image);\r\n            } else if (this.image.isCompressedTexture) {\r\n                // Compressed texture\r\n                for (let level = 0; level < this.image.length; level++) {\r\n                    this.gl.compressedTexImage2D(\r\n                        this.target,\r\n                        level,\r\n                        this.internalFormat,\r\n                        this.image[level].width,\r\n                        this.image[level].height,\r\n                        0,\r\n                        this.image[level].data\r\n                    );\r\n                }\r\n            } else {\r\n                // Regular texture\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.format, this.type, this.image);\r\n            }\r\n\r\n            if (this.generateMipmaps) {\r\n                // For WebGL1, if not a power of 2, turn off mips, set wrapping to clamp to edge and minFilter to linear\r\n                if (!this.gl.renderer.isWebgl2 && (!isPowerOf2(this.image.width) || !isPowerOf2(this.image.height))) {\r\n                    this.generateMipmaps = false;\r\n                    this.wrapS = this.wrapT = this.gl.CLAMP_TO_EDGE;\r\n                    this.minFilter = this.gl.LINEAR;\r\n                } else {\r\n                    this.gl.generateMipmap(this.target);\r\n                }\r\n            }\r\n\r\n            // Callback for when data is pushed to GPU\r\n            this.onUpdate && this.onUpdate();\r\n        } else {\r\n            if (this.target === this.gl.TEXTURE_CUBE_MAP) {\r\n                // Upload empty pixel for each side while no image to avoid errors while image or video loading\r\n                for (let i = 0; i < 6; i++) {\r\n                    this.gl.texImage2D(\r\n                        this.gl.TEXTURE_CUBE_MAP_POSITIVE_X + i,\r\n                        0,\r\n                        this.gl.RGBA,\r\n                        1,\r\n                        1,\r\n                        0,\r\n                        this.gl.RGBA,\r\n                        this.gl.UNSIGNED_BYTE,\r\n                        emptyPixel\r\n                    );\r\n                }\r\n            } else if (this.width) {\r\n                // image intentionally left null for RenderTarget\r\n                this.gl.texImage2D(this.target, this.level, this.internalFormat, this.width, this.height, 0, this.format, this.type, null);\r\n            } else {\r\n                // Upload empty pixel if no image to avoid errors while image or video loading\r\n                this.gl.texImage2D(this.target, 0, this.gl.RGBA, 1, 1, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, emptyPixel);\r\n            }\r\n        }\r\n        this.store.image = this.image;\r\n    }\r\n}\r\n","// attribute params\r\n// {\r\n//     data - typed array eg UInt16Array for indices, Float32Array\r\n//     size - int default 1\r\n//     instanced - default null. Pass divisor amount\r\n//     type - gl enum default gl.UNSIGNED_SHORT for 'index', gl.FLOAT for others\r\n//     normalized - boolean default false\r\n\r\n//     buffer - gl buffer, if buffer exists, don't need to provide data\r\n//     stride - default 0 - for when passing in buffer\r\n//     offset - default 0 - for when passing in buffer\r\n//     count - default null - for when passing in buffer\r\n//     min - array - for when passing in buffer\r\n//     max - array - for when passing in buffer\r\n// }\r\n\r\n// TODO: fit in transform feedback\r\n// TODO: when would I disableVertexAttribArray ?\r\n// TODO: use offset/stride if exists\r\n\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nconst tempVec3 = new Vec3();\r\n\r\nlet ID = 1;\r\nlet ATTR_ID = 1;\r\n\r\n// To stop inifinite warnings\r\nlet isBoundsWarned = false;\r\n\r\nexport class Geometry {\r\n    constructor(gl, attributes = {}) {\r\n        if (!gl.canvas) console.error('gl not passed as first argument to Geometry');\r\n        this.gl = gl;\r\n        this.attributes = attributes;\r\n        this.id = ID++;\r\n\r\n        // Store one VAO per program attribute locations order\r\n        this.VAOs = {};\r\n\r\n        this.drawRange = { start: 0, count: 0 };\r\n        this.instancedCount = 0;\r\n\r\n        // Unbind current VAO so that new buffers don't get added to active mesh\r\n        this.gl.renderer.bindVertexArray(null);\r\n        this.gl.renderer.currentGeometry = null;\r\n\r\n        // Alias for state store to avoid redundant calls for global state\r\n        this.glState = this.gl.renderer.state;\r\n\r\n        // create the buffers\r\n        for (let key in attributes) {\r\n            this.addAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n\r\n    addAttribute(key, attr) {\r\n        this.attributes[key] = attr;\r\n\r\n        // Set options\r\n        attr.id = ATTR_ID++; // TODO: currently unused, remove?\r\n        attr.size = attr.size || 1;\r\n        attr.type =\r\n            attr.type ||\r\n            (attr.data.constructor === Float32Array\r\n                ? this.gl.FLOAT\r\n                : attr.data.constructor === Uint16Array\r\n                ? this.gl.UNSIGNED_SHORT\r\n                : this.gl.UNSIGNED_INT); // Uint32Array\r\n        attr.target = key === 'index' ? this.gl.ELEMENT_ARRAY_BUFFER : this.gl.ARRAY_BUFFER;\r\n        attr.normalized = attr.normalized || false;\r\n        attr.stride = attr.stride || 0;\r\n        attr.offset = attr.offset || 0;\r\n        attr.count = attr.count || (attr.stride ? attr.data.byteLength / attr.stride : attr.data.length / attr.size);\r\n        attr.divisor = attr.instanced || 0;\r\n        attr.needsUpdate = false;\r\n\r\n        if (!attr.buffer) {\r\n            attr.buffer = this.gl.createBuffer();\r\n\r\n            // Push data to buffer\r\n            this.updateAttribute(attr);\r\n        }\r\n\r\n        // Update geometry counts. If indexed, ignore regular attributes\r\n        if (attr.divisor) {\r\n            this.isInstanced = true;\r\n            if (this.instancedCount && this.instancedCount !== attr.count * attr.divisor) {\r\n                console.warn('geometry has multiple instanced buffers of different length');\r\n                return (this.instancedCount = Math.min(this.instancedCount, attr.count * attr.divisor));\r\n            }\r\n            this.instancedCount = attr.count * attr.divisor;\r\n        } else if (key === 'index') {\r\n            this.drawRange.count = attr.count;\r\n        } else if (!this.attributes.index) {\r\n            this.drawRange.count = Math.max(this.drawRange.count, attr.count);\r\n        }\r\n    }\r\n\r\n    updateAttribute(attr) {\r\n        if (this.glState.boundBuffer !== attr.buffer) {\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n        }\r\n        this.gl.bufferData(attr.target, attr.data, this.gl.STATIC_DRAW);\r\n        attr.needsUpdate = false;\r\n    }\r\n\r\n    setIndex(value) {\r\n        this.addAttribute('index', value);\r\n    }\r\n\r\n    setDrawRange(start, count) {\r\n        this.drawRange.start = start;\r\n        this.drawRange.count = count;\r\n    }\r\n\r\n    setInstancedCount(value) {\r\n        this.instancedCount = value;\r\n    }\r\n\r\n    createVAO(program) {\r\n        this.VAOs[program.attributeOrder] = this.gl.renderer.createVertexArray();\r\n        this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n        this.bindAttributes(program);\r\n    }\r\n\r\n    bindAttributes(program) {\r\n        // Link all attributes to program using gl.vertexAttribPointer\r\n        program.attributeLocations.forEach((location, { name, type }) => {\r\n            // If geometry missing a required shader attribute\r\n            if (!this.attributes[name]) {\r\n                console.warn(`active attribute ${name} not being supplied`);\r\n                return;\r\n            }\r\n\r\n            const attr = this.attributes[name];\r\n\r\n            this.gl.bindBuffer(attr.target, attr.buffer);\r\n            this.glState.boundBuffer = attr.buffer;\r\n\r\n            // For matrix attributes, buffer needs to be defined per column\r\n            let numLoc = 1;\r\n            if (type === 35674) numLoc = 2; // mat2\r\n            if (type === 35675) numLoc = 3; // mat3\r\n            if (type === 35676) numLoc = 4; // mat4\r\n\r\n            const size = attr.size / numLoc;\r\n            const stride = numLoc === 1 ? 0 : numLoc * numLoc * numLoc;\r\n            const offset = numLoc === 1 ? 0 : numLoc * numLoc;\r\n\r\n            for (let i = 0; i < numLoc; i++) {\r\n                this.gl.vertexAttribPointer(location + i, size, attr.type, attr.normalized, attr.stride + stride, attr.offset + i * offset);\r\n                this.gl.enableVertexAttribArray(location + i);\r\n\r\n                // For instanced attributes, divisor needs to be set.\r\n                // For firefox, need to set back to 0 if non-instanced drawn after instanced. Else won't render\r\n                this.gl.renderer.vertexAttribDivisor(location + i, attr.divisor);\r\n            }\r\n        });\r\n\r\n        // Bind indices if geometry indexed\r\n        if (this.attributes.index) this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, this.attributes.index.buffer);\r\n    }\r\n\r\n    draw({ program, mode = this.gl.TRIANGLES }) {\r\n        if (this.gl.renderer.currentGeometry !== `${this.id}_${program.attributeOrder}`) {\r\n            if (!this.VAOs[program.attributeOrder]) this.createVAO(program);\r\n            this.gl.renderer.bindVertexArray(this.VAOs[program.attributeOrder]);\r\n            this.gl.renderer.currentGeometry = `${this.id}_${program.attributeOrder}`;\r\n        }\r\n\r\n        // Check if any attributes need updating\r\n        program.attributeLocations.forEach((location, { name }) => {\r\n            const attr = this.attributes[name];\r\n            if (attr.needsUpdate) this.updateAttribute(attr);\r\n        });\r\n\r\n        if (this.isInstanced) {\r\n            if (this.attributes.index) {\r\n                this.gl.renderer.drawElementsInstanced(\r\n                    mode,\r\n                    this.drawRange.count,\r\n                    this.attributes.index.type,\r\n                    this.drawRange.start,\r\n                    this.instancedCount\r\n                );\r\n            } else {\r\n                this.gl.renderer.drawArraysInstanced(mode, this.drawRange.start, this.drawRange.count, this.instancedCount);\r\n            }\r\n        } else {\r\n            if (this.attributes.index) {\r\n                this.gl.drawElements(mode, this.drawRange.count, this.attributes.index.type, this.attributes.index.offset + this.drawRange.start * 2);\r\n            } else {\r\n                this.gl.drawArrays(mode, this.drawRange.start, this.drawRange.count);\r\n            }\r\n        }\r\n    }\r\n\r\n    getPositionArray() {\r\n        // Use position buffer, or min/max if available\r\n        const attr = this.attributes.position;\r\n        if (attr.min) return [...attr.min, ...attr.max];\r\n        if (attr.data) return attr.data;\r\n        if (isBoundsWarned) return;\r\n        console.warn('No position buffer data found to compute bounds');\r\n        return (isBoundsWarned = true);\r\n    }\r\n\r\n    computeBoundingBox(array) {\r\n        if (!array) array = this.getPositionArray();\r\n\r\n        if (!this.bounds) {\r\n            this.bounds = {\r\n                min: new Vec3(),\r\n                max: new Vec3(),\r\n                center: new Vec3(),\r\n                scale: new Vec3(),\r\n                radius: Infinity,\r\n            };\r\n        }\r\n\r\n        const min = this.bounds.min;\r\n        const max = this.bounds.max;\r\n        const center = this.bounds.center;\r\n        const scale = this.bounds.scale;\r\n\r\n        min.set(+Infinity);\r\n        max.set(-Infinity);\r\n\r\n        // TODO: use offset/stride if exists\r\n        // TODO: check size of position (eg triangle with Vec2)\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            const x = array[i];\r\n            const y = array[i + 1];\r\n            const z = array[i + 2];\r\n\r\n            min.x = Math.min(x, min.x);\r\n            min.y = Math.min(y, min.y);\r\n            min.z = Math.min(z, min.z);\r\n\r\n            max.x = Math.max(x, max.x);\r\n            max.y = Math.max(y, max.y);\r\n            max.z = Math.max(z, max.z);\r\n        }\r\n\r\n        scale.sub(max, min);\r\n        center.add(min, max).divide(2);\r\n    }\r\n\r\n    computeBoundingSphere(array) {\r\n        if (!array) array = this.getPositionArray();\r\n        if (!this.bounds) this.computeBoundingBox(array);\r\n\r\n        let maxRadiusSq = 0;\r\n        for (let i = 0, l = array.length; i < l; i += 3) {\r\n            tempVec3.fromArray(array, i);\r\n            maxRadiusSq = Math.max(maxRadiusSq, this.bounds.center.squaredDistance(tempVec3));\r\n        }\r\n\r\n        this.bounds.radius = Math.sqrt(maxRadiusSq);\r\n    }\r\n\r\n    remove() {\r\n        if (this.vao) this.gl.renderer.deleteVertexArray(this.vao);\r\n        for (let key in this.attributes) {\r\n            this.gl.deleteBuffer(this.attributes[key].buffer);\r\n            delete this.attributes[key];\r\n        }\r\n    }\r\n}\r\n","import { Geometry } from '../core/Geometry.js';\r\n\r\nexport class Plane extends Geometry {\r\n    constructor(gl, { width = 1, height = 1, widthSegments = 1, heightSegments = 1, attributes = {} } = {}) {\r\n        const wSegs = widthSegments;\r\n        const hSegs = heightSegments;\r\n\r\n        // Determine length of arrays\r\n        const num = (wSegs + 1) * (hSegs + 1);\r\n        const numIndices = wSegs * hSegs * 6;\r\n\r\n        // Generate empty arrays once\r\n        const position = new Float32Array(num * 3);\r\n        const normal = new Float32Array(num * 3);\r\n        const uv = new Float32Array(num * 2);\r\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\r\n\r\n        Plane.buildPlane(position, normal, uv, index, width, height, 0, wSegs, hSegs);\r\n\r\n        Object.assign(attributes, {\r\n            position: { size: 3, data: position },\r\n            normal: { size: 3, data: normal },\r\n            uv: { size: 2, data: uv },\r\n            index: { data: index },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n\r\n    static buildPlane(position, normal, uv, index, width, height, depth, wSegs, hSegs, u = 0, v = 1, w = 2, uDir = 1, vDir = -1, i = 0, ii = 0) {\r\n        const io = i;\r\n        const segW = width / wSegs;\r\n        const segH = height / hSegs;\r\n\r\n        for (let iy = 0; iy <= hSegs; iy++) {\r\n            let y = iy * segH - height / 2;\r\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\r\n                let x = ix * segW - width / 2;\r\n\r\n                position[i * 3 + u] = x * uDir;\r\n                position[i * 3 + v] = y * vDir;\r\n                position[i * 3 + w] = depth / 2;\r\n\r\n                normal[i * 3 + u] = 0;\r\n                normal[i * 3 + v] = 0;\r\n                normal[i * 3 + w] = depth >= 0 ? 1 : -1;\r\n\r\n                uv[i * 2] = ix / wSegs;\r\n                uv[i * 2 + 1] = 1 - iy / hSegs;\r\n\r\n                if (iy === hSegs || ix === wSegs) continue;\r\n                let a = io + ix + iy * (wSegs + 1);\r\n                let b = io + ix + (iy + 1) * (wSegs + 1);\r\n                let c = io + ix + (iy + 1) * (wSegs + 1) + 1;\r\n                let d = io + ix + iy * (wSegs + 1) + 1;\r\n\r\n                index[ii * 6] = a;\r\n                index[ii * 6 + 1] = b;\r\n                index[ii * 6 + 2] = d;\r\n                index[ii * 6 + 3] = b;\r\n                index[ii * 6 + 4] = c;\r\n                index[ii * 6 + 5] = d;\r\n                ii++;\r\n            }\r\n        }\r\n    }\r\n}\r\n","// TODO: upload empty texture if null ? maybe not\r\n// TODO: upload identity matrix if null ?\r\n// TODO: sampler Cube\r\n\r\nlet ID = 1;\r\n\r\n// cache of typed arrays used to flatten uniform arrays\r\nconst arrayCacheF32 = {};\r\n\r\nexport class Program {\r\n    constructor(\r\n        gl,\r\n        {\r\n            vertex,\r\n            fragment,\r\n            uniforms = {},\r\n\r\n            transparent = false,\r\n            cullFace = gl.BACK,\r\n            frontFace = gl.CCW,\r\n            depthTest = true,\r\n            depthWrite = true,\r\n            depthFunc = gl.LESS,\r\n        } = {}\r\n    ) {\r\n        if (!gl.canvas) console.error('gl not passed as fist argument to Program');\r\n        this.gl = gl;\r\n        this.uniforms = uniforms;\r\n        this.id = ID++;\r\n\r\n        if (!vertex) console.warn('vertex shader not supplied');\r\n        if (!fragment) console.warn('fragment shader not supplied');\r\n\r\n        // Store program state\r\n        this.transparent = transparent;\r\n        this.cullFace = cullFace;\r\n        this.frontFace = frontFace;\r\n        this.depthTest = depthTest;\r\n        this.depthWrite = depthWrite;\r\n        this.depthFunc = depthFunc;\r\n        this.blendFunc = {};\r\n        this.blendEquation = {};\r\n\r\n        // set default blendFunc if transparent flagged\r\n        if (this.transparent && !this.blendFunc.src) {\r\n            if (this.gl.renderer.premultipliedAlpha) this.setBlendFunc(this.gl.ONE, this.gl.ONE_MINUS_SRC_ALPHA);\r\n            else this.setBlendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);\r\n        }\r\n\r\n        // compile vertex shader and log errors\r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER);\r\n        gl.shaderSource(vertexShader, vertex);\r\n        gl.compileShader(vertexShader);\r\n        if (gl.getShaderInfoLog(vertexShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(vertexShader)}\\nVertex Shader\\n${addLineNumbers(vertex)}`);\r\n        }\r\n\r\n        // compile fragment shader and log errors\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\r\n        gl.shaderSource(fragmentShader, fragment);\r\n        gl.compileShader(fragmentShader);\r\n        if (gl.getShaderInfoLog(fragmentShader) !== '') {\r\n            console.warn(`${gl.getShaderInfoLog(fragmentShader)}\\nFragment Shader\\n${addLineNumbers(fragment)}`);\r\n        }\r\n\r\n        // compile program and log errors\r\n        this.program = gl.createProgram();\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            return console.warn(gl.getProgramInfoLog(this.program));\r\n        }\r\n\r\n        // Remove shader once linked\r\n        gl.deleteShader(vertexShader);\r\n        gl.deleteShader(fragmentShader);\r\n\r\n        // Get active uniform locations\r\n        this.uniformLocations = new Map();\r\n        let numUniforms = gl.getProgramParameter(this.program, gl.ACTIVE_UNIFORMS);\r\n        for (let uIndex = 0; uIndex < numUniforms; uIndex++) {\r\n            let uniform = gl.getActiveUniform(this.program, uIndex);\r\n            this.uniformLocations.set(uniform, gl.getUniformLocation(this.program, uniform.name));\r\n\r\n            // split uniforms' names to separate array and struct declarations\r\n            const split = uniform.name.match(/(\\w+)/g);\r\n\r\n            uniform.uniformName = split[0];\r\n\r\n            if (split.length === 3) {\r\n                uniform.isStructArray = true;\r\n                uniform.structIndex = Number(split[1]);\r\n                uniform.structProperty = split[2];\r\n            } else if (split.length === 2 && isNaN(Number(split[1]))) {\r\n                uniform.isStruct = true;\r\n                uniform.structProperty = split[1];\r\n            }\r\n        }\r\n\r\n        // Get active attribute locations\r\n        this.attributeLocations = new Map();\r\n        const locations = [];\r\n        const numAttribs = gl.getProgramParameter(this.program, gl.ACTIVE_ATTRIBUTES);\r\n        for (let aIndex = 0; aIndex < numAttribs; aIndex++) {\r\n            const attribute = gl.getActiveAttrib(this.program, aIndex);\r\n            const location = gl.getAttribLocation(this.program, attribute.name);\r\n            locations[location] = attribute.name;\r\n            this.attributeLocations.set(attribute, location);\r\n        }\r\n        this.attributeOrder = locations.join('');\r\n    }\r\n\r\n    setBlendFunc(src, dst, srcAlpha, dstAlpha) {\r\n        this.blendFunc.src = src;\r\n        this.blendFunc.dst = dst;\r\n        this.blendFunc.srcAlpha = srcAlpha;\r\n        this.blendFunc.dstAlpha = dstAlpha;\r\n        if (src) this.transparent = true;\r\n    }\r\n\r\n    setBlendEquation(modeRGB, modeAlpha) {\r\n        this.blendEquation.modeRGB = modeRGB;\r\n        this.blendEquation.modeAlpha = modeAlpha;\r\n    }\r\n\r\n    applyState() {\r\n        if (this.depthTest) this.gl.renderer.enable(this.gl.DEPTH_TEST);\r\n        else this.gl.renderer.disable(this.gl.DEPTH_TEST);\r\n\r\n        if (this.cullFace) this.gl.renderer.enable(this.gl.CULL_FACE);\r\n        else this.gl.renderer.disable(this.gl.CULL_FACE);\r\n\r\n        if (this.blendFunc.src) this.gl.renderer.enable(this.gl.BLEND);\r\n        else this.gl.renderer.disable(this.gl.BLEND);\r\n\r\n        if (this.cullFace) this.gl.renderer.setCullFace(this.cullFace);\r\n        this.gl.renderer.setFrontFace(this.frontFace);\r\n        this.gl.renderer.setDepthMask(this.depthWrite);\r\n        this.gl.renderer.setDepthFunc(this.depthFunc);\r\n        if (this.blendFunc.src)\r\n            this.gl.renderer.setBlendFunc(this.blendFunc.src, this.blendFunc.dst, this.blendFunc.srcAlpha, this.blendFunc.dstAlpha);\r\n        if (this.blendEquation.modeRGB) this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB, this.blendEquation.modeAlpha);\r\n    }\r\n\r\n    use({ flipFaces = false } = {}) {\r\n        let textureUnit = -1;\r\n        const programActive = this.gl.renderer.currentProgram === this.id;\r\n\r\n        // Avoid gl call if program already in use\r\n        if (!programActive) {\r\n            this.gl.useProgram(this.program);\r\n            this.gl.renderer.currentProgram = this.id;\r\n        }\r\n\r\n        // Set only the active uniforms found in the shader\r\n        this.uniformLocations.forEach((location, activeUniform) => {\r\n            let name = activeUniform.uniformName;\r\n\r\n            // get supplied uniform\r\n            let uniform = this.uniforms[name];\r\n\r\n            // For structs, get the specific property instead of the entire object\r\n            if (activeUniform.isStruct) {\r\n                uniform = uniform[activeUniform.structProperty];\r\n                name += `.${activeUniform.structProperty}`;\r\n            }\r\n            if (activeUniform.isStructArray) {\r\n                uniform = uniform[activeUniform.structIndex][activeUniform.structProperty];\r\n                name += `[${activeUniform.structIndex}].${activeUniform.structProperty}`;\r\n            }\r\n\r\n            if (!uniform) {\r\n                return warn(`Active uniform ${name} has not been supplied`);\r\n            }\r\n\r\n            if (uniform && uniform.value === undefined) {\r\n                return warn(`${name} uniform is missing a value parameter`);\r\n            }\r\n\r\n            if (uniform.value.texture) {\r\n                textureUnit = textureUnit + 1;\r\n\r\n                // Check if texture needs to be updated\r\n                uniform.value.update(textureUnit);\r\n                return setUniform(this.gl, activeUniform.type, location, textureUnit);\r\n            }\r\n\r\n            // For texture arrays, set uniform as an array of texture units instead of just one\r\n            if (uniform.value.length && uniform.value[0].texture) {\r\n                const textureUnits = [];\r\n                uniform.value.forEach((value) => {\r\n                    textureUnit = textureUnit + 1;\r\n                    value.update(textureUnit);\r\n                    textureUnits.push(textureUnit);\r\n                });\r\n\r\n                return setUniform(this.gl, activeUniform.type, location, textureUnits);\r\n            }\r\n\r\n            setUniform(this.gl, activeUniform.type, location, uniform.value);\r\n        });\r\n\r\n        this.applyState();\r\n        if (flipFaces) this.gl.renderer.setFrontFace(this.frontFace === this.gl.CCW ? this.gl.CW : this.gl.CCW);\r\n    }\r\n\r\n    remove() {\r\n        this.gl.deleteProgram(this.program);\r\n    }\r\n}\r\n\r\nfunction setUniform(gl, type, location, value) {\r\n    value = value.length ? flatten(value) : value;\r\n    const setValue = gl.renderer.state.uniformLocations.get(location);\r\n\r\n    // Avoid redundant uniform commands\r\n    if (value.length) {\r\n        if (setValue === undefined || setValue.length !== value.length) {\r\n            // clone array to store as cache\r\n            gl.renderer.state.uniformLocations.set(location, value.slice(0));\r\n        } else {\r\n            if (arraysEqual(setValue, value)) return;\r\n\r\n            // Update cached array values\r\n            setValue.set ? setValue.set(value) : setArray(setValue, value);\r\n            gl.renderer.state.uniformLocations.set(location, setValue);\r\n        }\r\n    } else {\r\n        if (setValue === value) return;\r\n        gl.renderer.state.uniformLocations.set(location, value);\r\n    }\r\n\r\n    switch (type) {\r\n        case 5126:\r\n            return value.length ? gl.uniform1fv(location, value) : gl.uniform1f(location, value); // FLOAT\r\n        case 35664:\r\n            return gl.uniform2fv(location, value); // FLOAT_VEC2\r\n        case 35665:\r\n            return gl.uniform3fv(location, value); // FLOAT_VEC3\r\n        case 35666:\r\n            return gl.uniform4fv(location, value); // FLOAT_VEC4\r\n        case 35670: // BOOL\r\n        case 5124: // INT\r\n        case 35678: // SAMPLER_2D\r\n        case 35680:\r\n            return value.length ? gl.uniform1iv(location, value) : gl.uniform1i(location, value); // SAMPLER_CUBE\r\n        case 35671: // BOOL_VEC2\r\n        case 35667:\r\n            return gl.uniform2iv(location, value); // INT_VEC2\r\n        case 35672: // BOOL_VEC3\r\n        case 35668:\r\n            return gl.uniform3iv(location, value); // INT_VEC3\r\n        case 35673: // BOOL_VEC4\r\n        case 35669:\r\n            return gl.uniform4iv(location, value); // INT_VEC4\r\n        case 35674:\r\n            return gl.uniformMatrix2fv(location, false, value); // FLOAT_MAT2\r\n        case 35675:\r\n            return gl.uniformMatrix3fv(location, false, value); // FLOAT_MAT3\r\n        case 35676:\r\n            return gl.uniformMatrix4fv(location, false, value); // FLOAT_MAT4\r\n    }\r\n}\r\n\r\nfunction addLineNumbers(string) {\r\n    let lines = string.split('\\n');\r\n    for (let i = 0; i < lines.length; i++) {\r\n        lines[i] = i + 1 + ': ' + lines[i];\r\n    }\r\n    return lines.join('\\n');\r\n}\r\n\r\nfunction flatten(a) {\r\n    const arrayLen = a.length;\r\n    const valueLen = a[0].length;\r\n    if (valueLen === undefined) return a;\r\n    const length = arrayLen * valueLen;\r\n    let value = arrayCacheF32[length];\r\n    if (!value) arrayCacheF32[length] = value = new Float32Array(length);\r\n    for (let i = 0; i < arrayLen; i++) value.set(a[i], i * valueLen);\r\n    return value;\r\n}\r\n\r\nfunction arraysEqual(a, b) {\r\n    if (a.length !== b.length) return false;\r\n    for (let i = 0, l = a.length; i < l; i++) {\r\n        if (a[i] !== b[i]) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction setArray(a, b) {\r\n    for (let i = 0, l = a.length; i < l; i++) {\r\n        a[i] = b[i];\r\n    }\r\n}\r\n\r\nlet warnCount = 0;\r\nfunction warn(message) {\r\n    if (warnCount > 100) return;\r\n    console.warn(message);\r\n    warnCount++;\r\n    if (warnCount > 100) console.warn('More than 100 program warnings - stopping logs.');\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\r\nexport function fromMat4(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[4];\r\n    out[4] = a[5];\r\n    out[5] = a[6];\r\n    out[6] = a[8];\r\n    out[7] = a[9];\r\n    out[8] = a[10];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 matrix from the given quaternion\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function fromQuat(out, q) {\r\n    let x = q[0],\r\n        y = q[1],\r\n        z = q[2],\r\n        w = q[3];\r\n    let x2 = x + x;\r\n    let y2 = y + y;\r\n    let z2 = z + z;\r\n\r\n    let xx = x * x2;\r\n    let yx = y * x2;\r\n    let yy = y * y2;\r\n    let zx = z * x2;\r\n    let zy = z * y2;\r\n    let zz = z * z2;\r\n    let wx = w * x2;\r\n    let wy = w * y2;\r\n    let wz = w * z2;\r\n\r\n    out[0] = 1 - yy - zz;\r\n    out[3] = yx - wz;\r\n    out[6] = zx + wy;\r\n\r\n    out[1] = yx + wz;\r\n    out[4] = 1 - xx - zz;\r\n    out[7] = zy - wx;\r\n\r\n    out[2] = zx - wy;\r\n    out[5] = zy + wx;\r\n    out[8] = 1 - xx - yy;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    out[2] = a[2];\r\n    out[3] = a[3];\r\n    out[4] = a[4];\r\n    out[5] = a[5];\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n    out[0] = m00;\r\n    out[1] = m01;\r\n    out[2] = m02;\r\n    out[3] = m10;\r\n    out[4] = m11;\r\n    out[5] = m12;\r\n    out[6] = m20;\r\n    out[7] = m21;\r\n    out[8] = m22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\r\nexport function identity(out) {\r\n    out[0] = 1;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = 1;\r\n    out[5] = 0;\r\n    out[6] = 0;\r\n    out[7] = 0;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function transpose(out, a) {\r\n    // If we are transposing ourselves we can skip a few steps but have to cache some values\r\n    if (out === a) {\r\n        let a01 = a[1],\r\n            a02 = a[2],\r\n            a12 = a[5];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a01;\r\n        out[5] = a[7];\r\n        out[6] = a02;\r\n        out[7] = a12;\r\n    } else {\r\n        out[0] = a[0];\r\n        out[1] = a[3];\r\n        out[2] = a[6];\r\n        out[3] = a[1];\r\n        out[4] = a[4];\r\n        out[5] = a[7];\r\n        out[6] = a[2];\r\n        out[7] = a[5];\r\n        out[8] = a[8];\r\n    }\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\r\nexport function invert(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    let b01 = a22 * a11 - a12 * a21;\r\n    let b11 = -a22 * a10 + a12 * a20;\r\n    let b21 = a21 * a10 - a11 * a20;\r\n\r\n    // Calculate the determinant\r\n    let det = a00 * b01 + a01 * b11 + a02 * b21;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = b01 * det;\r\n    out[1] = (-a22 * a01 + a02 * a21) * det;\r\n    out[2] = (a12 * a01 - a02 * a11) * det;\r\n    out[3] = b11 * det;\r\n    out[4] = (a22 * a00 - a02 * a20) * det;\r\n    out[5] = (-a12 * a00 + a02 * a10) * det;\r\n    out[6] = b21 * det;\r\n    out[7] = (-a21 * a00 + a01 * a20) * det;\r\n    out[8] = (a11 * a00 - a01 * a10) * det;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\r\nexport function determinant(a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\r\n}\r\n\r\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2];\r\n    let a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5];\r\n    let a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8];\r\n\r\n    let b00 = b[0],\r\n        b01 = b[1],\r\n        b02 = b[2];\r\n    let b10 = b[3],\r\n        b11 = b[4],\r\n        b12 = b[5];\r\n    let b20 = b[6],\r\n        b21 = b[7],\r\n        b22 = b[8];\r\n\r\n    out[0] = b00 * a00 + b01 * a10 + b02 * a20;\r\n    out[1] = b00 * a01 + b01 * a11 + b02 * a21;\r\n    out[2] = b00 * a02 + b01 * a12 + b02 * a22;\r\n\r\n    out[3] = b10 * a00 + b11 * a10 + b12 * a20;\r\n    out[4] = b10 * a01 + b11 * a11 + b12 * a21;\r\n    out[5] = b10 * a02 + b11 * a12 + b12 * a22;\r\n\r\n    out[6] = b20 * a00 + b21 * a10 + b22 * a20;\r\n    out[7] = b20 * a01 + b21 * a11 + b22 * a21;\r\n    out[8] = b20 * a02 + b21 * a12 + b22 * a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\r\nexport function translate(out, a, v) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5],\r\n        a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8],\r\n        x = v[0],\r\n        y = v[1];\r\n\r\n    out[0] = a00;\r\n    out[1] = a01;\r\n    out[2] = a02;\r\n\r\n    out[3] = a10;\r\n    out[4] = a11;\r\n    out[5] = a12;\r\n\r\n    out[6] = x * a00 + y * a10 + a20;\r\n    out[7] = x * a01 + y * a11 + a21;\r\n    out[8] = x * a02 + y * a12 + a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\r\nexport function rotate(out, a, rad) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a10 = a[3],\r\n        a11 = a[4],\r\n        a12 = a[5],\r\n        a20 = a[6],\r\n        a21 = a[7],\r\n        a22 = a[8],\r\n        s = Math.sin(rad),\r\n        c = Math.cos(rad);\r\n\r\n    out[0] = c * a00 + s * a10;\r\n    out[1] = c * a01 + s * a11;\r\n    out[2] = c * a02 + s * a12;\r\n\r\n    out[3] = c * a10 - s * a00;\r\n    out[4] = c * a11 - s * a01;\r\n    out[5] = c * a12 - s * a02;\r\n\r\n    out[6] = a20;\r\n    out[7] = a21;\r\n    out[8] = a22;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\r\nexport function scale(out, a, v) {\r\n    let x = v[0],\r\n        y = v[1];\r\n\r\n    out[0] = x * a[0];\r\n    out[1] = x * a[1];\r\n    out[2] = x * a[2];\r\n\r\n    out[3] = y * a[3];\r\n    out[4] = y * a[4];\r\n    out[5] = y * a[5];\r\n\r\n    out[6] = a[6];\r\n    out[7] = a[7];\r\n    out[8] = a[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {mat4} a Mat4 to derive the normal matrix from\r\n *\r\n * @returns {mat3} out\r\n */\r\nexport function normalFromMat4(out, a) {\r\n    let a00 = a[0],\r\n        a01 = a[1],\r\n        a02 = a[2],\r\n        a03 = a[3];\r\n    let a10 = a[4],\r\n        a11 = a[5],\r\n        a12 = a[6],\r\n        a13 = a[7];\r\n    let a20 = a[8],\r\n        a21 = a[9],\r\n        a22 = a[10],\r\n        a23 = a[11];\r\n    let a30 = a[12],\r\n        a31 = a[13],\r\n        a32 = a[14],\r\n        a33 = a[15];\r\n\r\n    let b00 = a00 * a11 - a01 * a10;\r\n    let b01 = a00 * a12 - a02 * a10;\r\n    let b02 = a00 * a13 - a03 * a10;\r\n    let b03 = a01 * a12 - a02 * a11;\r\n    let b04 = a01 * a13 - a03 * a11;\r\n    let b05 = a02 * a13 - a03 * a12;\r\n    let b06 = a20 * a31 - a21 * a30;\r\n    let b07 = a20 * a32 - a22 * a30;\r\n    let b08 = a20 * a33 - a23 * a30;\r\n    let b09 = a21 * a32 - a22 * a31;\r\n    let b10 = a21 * a33 - a23 * a31;\r\n    let b11 = a22 * a33 - a23 * a32;\r\n\r\n    // Calculate the determinant\r\n    let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\r\n\r\n    if (!det) {\r\n        return null;\r\n    }\r\n    det = 1.0 / det;\r\n\r\n    out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\r\n    out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\r\n    out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\r\n\r\n    out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\r\n    out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\r\n    out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\r\n\r\n    out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\r\n    out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\r\n    out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\r\n\r\n    return out;\r\n}\r\n\r\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\r\nexport function projection(out, width, height) {\r\n    out[0] = 2 / width;\r\n    out[1] = 0;\r\n    out[2] = 0;\r\n    out[3] = 0;\r\n    out[4] = -2 / height;\r\n    out[5] = 0;\r\n    out[6] = -1;\r\n    out[7] = 1;\r\n    out[8] = 1;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    out[2] = a[2] + b[2];\r\n    out[3] = a[3] + b[3];\r\n    out[4] = a[4] + b[4];\r\n    out[5] = a[5] + b[5];\r\n    out[6] = a[6] + b[6];\r\n    out[7] = a[7] + b[7];\r\n    out[8] = a[8] + b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    out[2] = a[2] - b[2];\r\n    out[3] = a[3] - b[3];\r\n    out[4] = a[4] - b[4];\r\n    out[5] = a[5] - b[5];\r\n    out[6] = a[6] - b[6];\r\n    out[7] = a[7] - b[7];\r\n    out[8] = a[8] - b[8];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\r\nexport function multiplyScalar(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    out[2] = a[2] * b;\r\n    out[3] = a[3] * b;\r\n    out[4] = a[4] * b;\r\n    out[5] = a[5] * b;\r\n    out[6] = a[6] * b;\r\n    out[7] = a[7] * b;\r\n    out[8] = a[8] * b;\r\n    return out;\r\n}\r\n","import * as Mat3Func from './functions/Mat3Func.js';\r\n\r\nexport class Mat3 extends Array {\r\n    constructor(m00 = 1, m01 = 0, m02 = 0, m10 = 0, m11 = 1, m12 = 0, m20 = 0, m21 = 0, m22 = 1) {\r\n        super(m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    set(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\r\n        if (m00.length) return this.copy(m00);\r\n        Mat3Func.set(this, m00, m01, m02, m10, m11, m12, m20, m21, m22);\r\n        return this;\r\n    }\r\n\r\n    translate(v, m = this) {\r\n        Mat3Func.translate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    rotate(v, m = this) {\r\n        Mat3Func.rotate(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    scale(v, m = this) {\r\n        Mat3Func.scale(this, m, v);\r\n        return this;\r\n    }\r\n\r\n    multiply(ma, mb) {\r\n        if (mb) {\r\n            Mat3Func.multiply(this, ma, mb);\r\n        } else {\r\n            Mat3Func.multiply(this, this, ma);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    identity() {\r\n        Mat3Func.identity(this);\r\n        return this;\r\n    }\r\n\r\n    copy(m) {\r\n        Mat3Func.copy(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromMatrix4(m) {\r\n        Mat3Func.fromMat4(this, m);\r\n        return this;\r\n    }\r\n\r\n    fromQuaternion(q) {\r\n        Mat3Func.fromQuat(this, q);\r\n        return this;\r\n    }\r\n\r\n    fromBasis(vec3a, vec3b, vec3c) {\r\n        this.set(vec3a[0], vec3a[1], vec3a[2], vec3b[0], vec3b[1], vec3b[2], vec3c[0], vec3c[1], vec3c[2]);\r\n        return this;\r\n    }\r\n\r\n    inverse(m = this) {\r\n        Mat3Func.invert(this, m);\r\n        return this;\r\n    }\r\n\r\n    getNormalMatrix(m) {\r\n        Mat3Func.normalFromMat4(this, m);\r\n        return this;\r\n    }\r\n}\r\n","import { Transform } from './Transform.js';\r\nimport { Mat3 } from '../math/Mat3.js';\r\nimport { Mat4 } from '../math/Mat4.js';\r\n\r\nlet ID = 0;\r\n\r\nexport class Mesh extends Transform {\r\n    constructor(gl, { geometry, program, mode = gl.TRIANGLES, frustumCulled = true, renderOrder = 0 } = {}) {\r\n        super();\r\n        if (!gl.canvas) console.error('gl not passed as first argument to Mesh');\r\n        this.gl = gl;\r\n        this.id = ID++;\r\n        this.geometry = geometry;\r\n        this.program = program;\r\n        this.mode = mode;\r\n\r\n        // Used to skip frustum culling\r\n        this.frustumCulled = frustumCulled;\r\n\r\n        // Override sorting to force an order\r\n        this.renderOrder = renderOrder;\r\n        this.modelViewMatrix = new Mat4();\r\n        this.normalMatrix = new Mat3();\r\n        this.beforeRenderCallbacks = [];\r\n        this.afterRenderCallbacks = [];\r\n    }\r\n\r\n    onBeforeRender(f) {\r\n        this.beforeRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    onAfterRender(f) {\r\n        this.afterRenderCallbacks.push(f);\r\n        return this;\r\n    }\r\n\r\n    draw({ camera } = {}) {\r\n        this.beforeRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\r\n        if (camera) {\r\n            // Add empty matrix uniforms to program if unset\r\n            if (!this.program.uniforms.modelMatrix) {\r\n                Object.assign(this.program.uniforms, {\r\n                    modelMatrix: { value: null },\r\n                    viewMatrix: { value: null },\r\n                    modelViewMatrix: { value: null },\r\n                    normalMatrix: { value: null },\r\n                    projectionMatrix: { value: null },\r\n                    cameraPosition: { value: null },\r\n                });\r\n            }\r\n\r\n            // Set the matrix uniforms\r\n            this.program.uniforms.projectionMatrix.value = camera.projectionMatrix;\r\n            this.program.uniforms.cameraPosition.value = camera.worldPosition;\r\n            this.program.uniforms.viewMatrix.value = camera.viewMatrix;\r\n            this.modelViewMatrix.multiply(camera.viewMatrix, this.worldMatrix);\r\n            this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\r\n            this.program.uniforms.modelMatrix.value = this.worldMatrix;\r\n            this.program.uniforms.modelViewMatrix.value = this.modelViewMatrix;\r\n            this.program.uniforms.normalMatrix.value = this.normalMatrix;\r\n        }\r\n\r\n        // determine if faces need to be flipped - when mesh scaled negatively\r\n        let flipFaces = this.program.cullFace && this.worldMatrix.determinant() < 0;\r\n        this.program.use({ flipFaces });\r\n        this.geometry.draw({ mode: this.mode, program: this.program });\r\n        this.afterRenderCallbacks.forEach((f) => f && f({ mesh: this, camera }));\r\n    }\r\n}\r\n","const EPSILON = 0.000001;\r\n\r\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\r\nexport function copy(out, a) {\r\n    out[0] = a[0];\r\n    out[1] = a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\r\nexport function set(out, x, y) {\r\n    out[0] = x;\r\n    out[1] = y;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function add(out, a, b) {\r\n    out[0] = a[0] + b[0];\r\n    out[1] = a[1] + b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function subtract(out, a, b) {\r\n    out[0] = a[0] - b[0];\r\n    out[1] = a[1] - b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function multiply(out, a, b) {\r\n    out[0] = a[0] * b[0];\r\n    out[1] = a[1] * b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\r\nexport function divide(out, a, b) {\r\n    out[0] = a[0] / b[0];\r\n    out[1] = a[1] / b[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\r\nexport function scale(out, a, b) {\r\n    out[0] = a[0] * b;\r\n    out[1] = a[1] * b;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\r\nexport function distance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\n\r\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\r\nexport function squaredDistance(a, b) {\r\n    var x = b[0] - a[0],\r\n        y = b[1] - a[1];\r\n    return x * x + y * y;\r\n}\r\n\r\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\r\nexport function length(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return Math.sqrt(x * x + y * y);\r\n}\r\n\r\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\r\nexport function squaredLength(a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    return x * x + y * y;\r\n}\r\n\r\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\r\nexport function negate(out, a) {\r\n    out[0] = -a[0];\r\n    out[1] = -a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\r\nexport function inverse(out, a) {\r\n    out[0] = 1.0 / a[0];\r\n    out[1] = 1.0 / a[1];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\r\nexport function normalize(out, a) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    var len = x * x + y * y;\r\n    if (len > 0) {\r\n        //TODO: evaluate use of glm_invsqrt here?\r\n        len = 1 / Math.sqrt(len);\r\n    }\r\n    out[0] = a[0] * len;\r\n    out[1] = a[1] * len;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\r\nexport function dot(a, b) {\r\n    return a[0] * b[0] + a[1] * b[1];\r\n}\r\n\r\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product returns a scalar\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} cross product of a and b\r\n */\r\nexport function cross(a, b) {\r\n    return a[0] * b[1] - a[1] * b[0];\r\n}\r\n\r\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount between the two inputs\r\n * @returns {vec2} out\r\n */\r\nexport function lerp(out, a, b, t) {\r\n    var ax = a[0],\r\n        ay = a[1];\r\n    out[0] = ax + t * (b[0] - ax);\r\n    out[1] = ay + t * (b[1] - ay);\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y;\r\n    out[1] = m[1] * x + m[3] * y;\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat2d(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[2] * y + m[4];\r\n    out[1] = m[1] * x + m[3] * y + m[5];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat3(out, a, m) {\r\n    var x = a[0],\r\n        y = a[1];\r\n    out[0] = m[0] * x + m[3] * y + m[6];\r\n    out[1] = m[1] * x + m[4] * y + m[7];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\r\nexport function transformMat4(out, a, m) {\r\n    let x = a[0];\r\n    let y = a[1];\r\n    out[0] = m[0] * x + m[4] * y + m[12];\r\n    out[1] = m[1] * x + m[5] * y + m[13];\r\n    return out;\r\n}\r\n\r\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\r\nexport function exactEquals(a, b) {\r\n    return a[0] === b[0] && a[1] === b[1];\r\n}\r\n","import * as Vec2Func from './functions/Vec2Func.js';\r\n\r\nexport class Vec2 extends Array {\r\n    constructor(x = 0, y = x) {\r\n        super(x, y);\r\n        return this;\r\n    }\r\n\r\n    get x() {\r\n        return this[0];\r\n    }\r\n\r\n    get y() {\r\n        return this[1];\r\n    }\r\n\r\n    set x(v) {\r\n        this[0] = v;\r\n    }\r\n\r\n    set y(v) {\r\n        this[1] = v;\r\n    }\r\n\r\n    set(x, y = x) {\r\n        if (x.length) return this.copy(x);\r\n        Vec2Func.set(this, x, y);\r\n        return this;\r\n    }\r\n\r\n    copy(v) {\r\n        Vec2Func.copy(this, v);\r\n        return this;\r\n    }\r\n\r\n    add(va, vb) {\r\n        if (vb) Vec2Func.add(this, va, vb);\r\n        else Vec2Func.add(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    sub(va, vb) {\r\n        if (vb) Vec2Func.subtract(this, va, vb);\r\n        else Vec2Func.subtract(this, this, va);\r\n        return this;\r\n    }\r\n\r\n    multiply(v) {\r\n        if (v.length) Vec2Func.multiply(this, this, v);\r\n        else Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    divide(v) {\r\n        if (v.length) Vec2Func.divide(this, this, v);\r\n        else Vec2Func.scale(this, this, 1 / v);\r\n        return this;\r\n    }\r\n\r\n    inverse(v = this) {\r\n        Vec2Func.inverse(this, v);\r\n        return this;\r\n    }\r\n\r\n    // Can't use 'length' as Array.prototype uses it\r\n    len() {\r\n        return Vec2Func.length(this);\r\n    }\r\n\r\n    distance(v) {\r\n        if (v) return Vec2Func.distance(this, v);\r\n        else return Vec2Func.length(this);\r\n    }\r\n\r\n    squaredLen() {\r\n        return this.squaredDistance();\r\n    }\r\n\r\n    squaredDistance(v) {\r\n        if (v) return Vec2Func.squaredDistance(this, v);\r\n        else return Vec2Func.squaredLength(this);\r\n    }\r\n\r\n    negate(v = this) {\r\n        Vec2Func.negate(this, v);\r\n        return this;\r\n    }\r\n\r\n    cross(va, vb) {\r\n        if (vb) return Vec2Func.cross(va, vb);\r\n        return Vec2Func.cross(this, va);\r\n    }\r\n\r\n    scale(v) {\r\n        Vec2Func.scale(this, this, v);\r\n        return this;\r\n    }\r\n\r\n    normalize() {\r\n        Vec2Func.normalize(this, this);\r\n        return this;\r\n    }\r\n\r\n    dot(v) {\r\n        return Vec2Func.dot(this, v);\r\n    }\r\n\r\n    equals(v) {\r\n        return Vec2Func.exactEquals(this, v);\r\n    }\r\n\r\n    applyMatrix3(mat3) {\r\n        Vec2Func.transformMat3(this, this, mat3);\r\n        return this;\r\n    }\r\n\r\n    applyMatrix4(mat4) {\r\n        Vec2Func.transformMat4(this, this, mat4);\r\n        return this;\r\n    }\r\n\r\n    lerp(v, a) {\r\n        Vec2Func.lerp(this, this, v, a);\r\n    }\r\n\r\n    clone() {\r\n        return new Vec2(this[0], this[1]);\r\n    }\r\n\r\n    fromArray(a, o = 0) {\r\n        this[0] = a[o];\r\n        this[1] = a[o + 1];\r\n        return this;\r\n    }\r\n\r\n    toArray(a = [], o = 0) {\r\n        a[o] = this[0];\r\n        a[o + 1] = this[1];\r\n        return a;\r\n    }\r\n}\r\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec2 uv;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nuniform vec2 _Resolution;\\n\\nvarying vec2 vUV;\\n\\nvoid main() {\\n\\n    vec3 pos = position;\\n    pos.xy *= 0.8;\\n    pos.x /= _Resolution.x / _Resolution.y;\\n\\n    pos.x -= 0.8;\\n    pos.y += 0.1;\\n\\n    // gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\\n    gl_Position = vec4(pos, 1.0);\\n\\n    vUV = uv;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Video;\\nuniform sampler2D _Output;\\nuniform vec2 _Resolution;\\n\\nvarying vec2 vUV;\\n\\nvoid main() {\\n\\n    vec2 cameraUV = vec2(1.0 - vUV.x, vUV.y);\\n    cameraUV -= 0.5;\\n    float aspect = (_Resolution.x / _Resolution.y) / (640.0 / 480.0);\\n    cameraUV.y /= aspect;\\n    cameraUV += 0.5;\\n\\n    vec3 flow = texture2D(_Output, vec2(1.0 - cameraUV.x, cameraUV.y)).xyz;\\n\\n    gl_FragColor = vec4(flow, 1.0);\\n\\n}\";","import {\r\n    Plane\r\n} from '../../Vendors/ogl/src/extras/Plane';\r\nimport {\r\n    Program\r\n} from '../../Vendors/ogl/src/core/Program';\r\nimport {\r\n    Texture\r\n} from '../../Vendors/ogl/src/core/Texture';\r\nimport {\r\n    Mesh\r\n} from '../../Vendors/ogl/src/core/Mesh';\r\nimport {\r\n    Vec2\r\n} from '../../Vendors/ogl/src/math/Vec2';\r\n\r\nconst vert = require(\"./shader/quad.vert\");\r\nconst frag = require(\"./shader/quad.frag\");\r\n\r\nexport default class Quad extends Mesh {\r\n\r\n    constructor(gl) {\r\n\r\n        super(gl);\r\n\r\n        this.gl = gl;\r\n\r\n        this.geometry = new Plane(this.gl, {\r\n            width: 1,\r\n            height: 1\r\n        });\r\n\r\n        this.texture = new Texture(this.gl, {\r\n            generateMipmaps: false,\r\n            minFilter: this.gl.LINEAR,\r\n            magFilter: this.gl.LINEAR\r\n        });\r\n\r\n        const uniforms = {\r\n\r\n            _Video: {\r\n                value: this.texture\r\n            },\r\n\r\n            _Output: {\r\n                value: new Texture(this.gl)\r\n            },\r\n            _Resolution: {\r\n                value: new Vec2(this.gl.renderer.width, this.gl.renderer.height)\r\n            }\r\n\r\n        }\r\n\r\n        this.program = new Program(this.gl, {\r\n            vertex: vert,\r\n            fragment: frag,\r\n            uniforms,\r\n            transparent: false,\r\n            depthTest: false,\r\n            depthWrite: false\r\n        });\r\n\r\n    }\r\n\r\n    update({\r\n        inputVideo\r\n    }) {\r\n\r\n        if (inputVideo.readyState >= inputVideo.HAVE_CURRENT_DATA) {\r\n\r\n            this.texture.image = inputVideo;\r\n            this.texture.needsUpdate = true;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    set Output(t) {\r\n        this.program.uniforms._Output.value = t;\r\n    }\r\n\r\n}","import { Geometry } from '../core/Geometry.js';\r\n\r\nexport class Triangle extends Geometry {\r\n    constructor(gl, { attributes = {} } = {}) {\r\n        Object.assign(attributes, {\r\n            position: { size: 2, data: new Float32Array([-1, -1, 3, -1, -1, 3]) },\r\n            uv: { size: 2, data: new Float32Array([0, 0, 2, 0, 0, 2]) },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n}\r\n","// TODO: multi target rendering\r\n// TODO: test stencil and depth\r\n// TODO: destroy\r\n// TODO: blit on resize?\r\nimport { Texture } from './Texture.js';\r\n\r\nexport class RenderTarget {\r\n    constructor(\r\n        gl,\r\n        {\r\n            width = gl.canvas.width,\r\n            height = gl.canvas.height,\r\n            target = gl.FRAMEBUFFER,\r\n            color = 1, // number of color attachments\r\n            depth = true,\r\n            stencil = false,\r\n            depthTexture = false, // note - stencil breaks\r\n            wrapS = gl.CLAMP_TO_EDGE,\r\n            wrapT = gl.CLAMP_TO_EDGE,\r\n            minFilter = gl.LINEAR,\r\n            magFilter = minFilter,\r\n            type = gl.UNSIGNED_BYTE,\r\n            format = gl.RGBA,\r\n            internalFormat = format,\r\n            unpackAlignment,\r\n            premultiplyAlpha,\r\n        } = {}\r\n    ) {\r\n        this.gl = gl;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.depth = depth;\r\n        this.buffer = this.gl.createFramebuffer();\r\n        this.target = target;\r\n        this.gl.bindFramebuffer(this.target, this.buffer);\r\n\r\n        this.textures = [];\r\n        const drawBuffers = [];\r\n\r\n        // create and attach required num of color textures\r\n        for (let i = 0; i < color; i++) {\r\n            this.textures.push(\r\n                new Texture(gl, {\r\n                    width,\r\n                    height,\r\n                    wrapS,\r\n                    wrapT,\r\n                    minFilter,\r\n                    magFilter,\r\n                    type,\r\n                    format,\r\n                    internalFormat,\r\n                    unpackAlignment,\r\n                    premultiplyAlpha,\r\n                    flipY: false,\r\n                    generateMipmaps: false,\r\n                })\r\n            );\r\n            this.textures[i].update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.COLOR_ATTACHMENT0 + i, this.gl.TEXTURE_2D, this.textures[i].texture, 0 /* level */);\r\n            drawBuffers.push(this.gl.COLOR_ATTACHMENT0 + i);\r\n        }\r\n\r\n        // For multi-render targets shader access\r\n        if (drawBuffers.length > 1) this.gl.renderer.drawBuffers(drawBuffers);\r\n\r\n        // alias for majority of use cases\r\n        this.texture = this.textures[0];\r\n\r\n        // note depth textures break stencil - so can't use together\r\n        if (depthTexture && (this.gl.renderer.isWebgl2 || this.gl.renderer.getExtension('WEBGL_depth_texture'))) {\r\n            this.depthTexture = new Texture(gl, {\r\n                width,\r\n                height,\r\n                minFilter: this.gl.NEAREST,\r\n                magFilter: this.gl.NEAREST,\r\n                format: this.gl.DEPTH_COMPONENT,\r\n                internalFormat: gl.renderer.isWebgl2 ? this.gl.DEPTH_COMPONENT16 : this.gl.DEPTH_COMPONENT,\r\n                type: this.gl.UNSIGNED_INT,\r\n            });\r\n            this.depthTexture.update();\r\n            this.gl.framebufferTexture2D(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.TEXTURE_2D, this.depthTexture.texture, 0 /* level */);\r\n        } else {\r\n            // Render buffers\r\n            if (depth && !stencil) {\r\n                this.depthBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_COMPONENT16, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_ATTACHMENT, this.gl.RENDERBUFFER, this.depthBuffer);\r\n            }\r\n\r\n            if (stencil && !depth) {\r\n                this.stencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.stencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.STENCIL_INDEX8, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.stencilBuffer);\r\n            }\r\n\r\n            if (depth && stencil) {\r\n                this.depthStencilBuffer = this.gl.createRenderbuffer();\r\n                this.gl.bindRenderbuffer(this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n                this.gl.renderbufferStorage(this.gl.RENDERBUFFER, this.gl.DEPTH_STENCIL, width, height);\r\n                this.gl.framebufferRenderbuffer(this.target, this.gl.DEPTH_STENCIL_ATTACHMENT, this.gl.RENDERBUFFER, this.depthStencilBuffer);\r\n            }\r\n        }\r\n\r\n        this.gl.bindFramebuffer(this.target, null);\r\n    }\r\n}\r\n","export const params = {\r\n\r\n    // blur: {\r\n    //     ITERATIONS: 5\r\n    // },\r\n\r\n    // opticalFlow: {\r\n    //     TINY: 1.0,\r\n    //     THRESHOLD: 1.0,\r\n    //     FADE: 0.6,\r\n    //     OFFSETSCALE: 1.5\r\n    // }\r\n\r\n    // blur: {\r\n    //     ITERATIONS: 8\r\n    // },\r\n\r\n    // opticalFlow: {\r\n    //     TINY: 1.0,\r\n    //     THRESHOLD: 0.0,\r\n    //     FADE: 0.6,\r\n    //     OFFSETSCALE: 2.5\r\n    // }\r\n\r\n    //cleanest so far\r\n    blur: {\r\n        ITERATIONS: 4\r\n    },\r\n\r\n    opticalFlow: {\r\n        TINY: 0.001,\r\n        // THRESHOLD: 0.53, //used 0.09 originally...\r\n        THRESHOLD: 0.6, //used 0.09 originally...\r\n        FADE: 0.0,\r\n        OFFSETSCALE: 3.5\r\n    },\r\n\r\n    simulation: {\r\n\r\n        velocity: {\r\n            // FORCE: 0.0010,\r\n            FORCE: 0.8,\r\n            INERTIA: 0.87\r\n        }\r\n        \r\n    },\r\n    shadow: {\r\n        // BIAS: 0.001\r\n        SIZE: 1024.0 * 1.0,\r\n        BIAS: 0.001\r\n    }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\nattribute vec2 uv;\\n\\nvarying vec2 vUV;\\n\\nvoid main() {\\n\\n    gl_Position = vec4(position, 0.0, 1.0);\\n    vUV = uv;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _CurrentFrame;\\nuniform sampler2D _PrevFrame;\\nuniform sampler2D _PrevFlow;\\n\\nuniform vec2 _Resolution;\\nuniform vec2 _TexelSize;\\nuniform float _Scale;\\nuniform float _Tiny;\\nuniform float _Threshold;\\nuniform float _Fade;\\nuniform float _OffsetScale;\\n\\nvarying vec2 vUV;\\n\\n// #define TINY 0.001\\n// #define THRESHOLD 0.05\\n// #define THRESHOLD 0.02\\n\\n#define TINY 1.0\\n#define THRESHOLD 10.0\\n\\n#define OFFSETSCALE 2.0\\n\\n//HEAVILY INSPIRED FROM FOLLOWING SHADER: https://github.com/moostrik/ofxFlowTools/blob/master/src/core/opticalflow/ftOpticalFlowShader.h\\n//By: Matthias Oostrik https://github.com/moostrik\\n\\nvoid main() {\\n\\n    vec2 uv = vec2(1.0 - vUV.x, vUV.y);\\n\\n    vec2 offsetX = vec2(_TexelSize.x, 0.0) * _OffsetScale;\\n    vec2 offsetY = vec2(0.0, _TexelSize.y) * _OffsetScale;\\n\\n    //derivative X\\n    float dX = texture2D(_PrevFrame, uv + offsetX).x - texture2D(_PrevFrame, uv - offsetX).x;\\n    dX += texture2D(_CurrentFrame, uv + offsetX).x - texture2D(_CurrentFrame, uv - offsetX).x;\\n\\n    //derivative y\\n    float dY = texture2D(_PrevFrame, uv + offsetY).x - texture2D(_PrevFrame, uv - offsetY).x;\\n    dY += texture2D(_CurrentFrame, uv + offsetY).x - texture2D(_CurrentFrame, uv - offsetY).x;\\n\\n    //gradient magnitude\\n    float mag = sqrt((dX * dX) + (dY * dY) + _Tiny);\\n\\n    //brightness difference\\n    float dT = texture2D(_CurrentFrame, uv).x - texture2D(_PrevFrame, uv).x;\\n\\n    float vX = (dX / mag) * dT;\\n    float vY = (dY / mag) * dT;\\n\\n    vec2 flow = vec2(vX, vY * -1.0);\\n\\n    flow *= _Scale; \\n\\n    float oldLen = sqrt((flow.x * flow.x) + (flow.y * flow.y) + 0.00001);\\n    float newLen = max(oldLen - _Threshold, 0.0);\\n    flow = (newLen * flow)/oldLen;\\n\\n    vec3 prevFlow = texture2D(_PrevFlow, vUV).xyz;\\n    vec3 forward = cross(vec3(flow.x, 0.0, 0.0), vec3(0.0, flow.y, 0.0));\\n    // vec3 outPut = mix(vec3(flow, forward.z), prevFlow, _Fade);\\n    // vec3 outPut = mix(vec3(flow, flow.y - flow.x), prevFlow, _Fade);\\n    // vec3 outPut = mix(vec3(flow, forward.z), prevFlow, _Fade);\\n    vec3 outPut = vec3(flow, forward.z);\\n    \\n    gl_FragColor = vec4(outPut, 1.0);\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _CameraFrame;\\n\\nvarying vec2 vUV;\\n\\nvoid main() {\\n\\n    vec3 col = texture2D(_CameraFrame, vUV).xyz;\\n    gl_FragColor = vec4(col, 1.0);\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec2 _Resolution;\\nuniform sampler2D _Texture;\\nuniform bool _Flip;\\nuniform vec2 _BlurDirection;\\n\\nvarying vec2 vUV;\\n\\n//inspired by: https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/5.glsl\\n\\nvec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\\n  vec4 color = vec4(0.0);\\n  vec2 off1 = vec2(1.3333333333333333) * direction * resolution;\\n  color += texture2D(image, uv).x * 0.29411764705882354;\\n  color += texture2D(image, uv + off1).x * 0.35294117647058826;\\n  color += texture2D(image, uv - off1).x * 0.35294117647058826;\\n  return color; \\n}\\n\\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\\n  vec4 color = vec4(0.0);\\n  vec2 off1 = (vec2(1.3846153846) * direction) * resolution;\\n  vec2 off2 = (vec2(3.2307692308) * direction) * resolution;\\n  color += texture2D(image, uv).x * 0.2270270270;\\n  color += texture2D(image, uv + off1).x * 0.3162162162;\\n  color += texture2D(image, uv - off1).x * 0.3162162162;\\n  color += texture2D(image, uv + off2).x * 0.0702702703;\\n  color += texture2D(image, uv - off2).x * 0.0702702703;\\n  return color;\\n}\\n\\nvoid main() {\\n\\n    gl_FragColor = blur5(_Texture, vUV, _Resolution, _BlurDirection);\\n\\n}\";","import {\r\n    Triangle\r\n} from '../../Vendors/ogl/src/extras/Triangle';\r\nimport {\r\n    Program\r\n} from '../../Vendors/ogl/src/core/Program';\r\nimport {\r\n    Texture\r\n} from '../../Vendors/ogl/src/core/Texture';\r\nimport {\r\n    Mesh\r\n} from '../../Vendors/ogl/src/core/Mesh';\r\nimport {\r\n    RenderTarget\r\n} from '../../Vendors/ogl/src/core/RenderTarget';\r\nimport {\r\n    Vec2\r\n} from '../../Vendors/ogl/src/math/Vec2';\r\n\r\nimport {params} from '../params.js';\r\n\r\nconst vert = require('./shaders/triangle.vert');\r\nconst opticalFlowFrag = require('./shaders/opticalflow.frag');\r\nconst captureFrag = require('./shaders/capture.frag');\r\nconst blur = require('./shaders/blur.frag');\r\n\r\nexport default class Flow {\r\n\r\n    constructor(gl, {\r\n        width = 2,\r\n        height = 2\r\n    }) {\r\n\r\n\r\n        this.gl = gl;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.firstTick = true;\r\n\r\n        this.initCameraCapture();\r\n\r\n        this.initBlurPass();\r\n\r\n        this.initOpticalFlowPass();\r\n\r\n    }\r\n\r\n    initCameraCapture() {\r\n\r\n        this.cameraFrame = new Texture(this.gl, {\r\n            generateMipmaps: false,\r\n            width: this.width,\r\n            height: this.height\r\n        });\r\n\r\n        const params = {\r\n            width: this.width,\r\n            height: this.height,\r\n            minFilter: this.gl.LINEAR,\r\n            magFilter: this.gl.LINEAR,\r\n            depth: false\r\n        }\r\n\r\n        this.currentFrame = new RenderTarget(this.gl, params);\r\n        this.prevFrame = new RenderTarget(this.gl, params);\r\n\r\n        const uniforms = {\r\n            _CameraFrame: {\r\n                value: this.cameraFrame\r\n            }\r\n        }\r\n\r\n        this.cameraCapturePass = new Mesh(this.gl, {\r\n            geometry: new Triangle(this.gl),\r\n            program: new Program(this.gl, {\r\n                vertex: vert,\r\n                fragment: captureFrag,\r\n                uniforms,\r\n                transparent: false,\r\n                depthTest: false,\r\n                depthWrite: false            \r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    initBlurPass() {\r\n\r\n        const textureParams = {\r\n            width: this.width,\r\n            height: this.height,\r\n            minFilter: this.gl.LINEAR,\r\n            magFilter: this.gl.LINEAR,\r\n            depth: false\r\n        }\r\n\r\n        this.blurTextureWrite = new RenderTarget(this.gl, textureParams);\r\n\r\n        this.blurTextureRead = new RenderTarget(this.gl, textureParams);\r\n\r\n        this.blurDirectionX = new Vec2(1.0, 0.0);\r\n        this.blurDirectionY = new Vec2(0.0, 1.0);\r\n\r\n        // const blurParams = gui.addFolder(\"blur\");\r\n        // blurParams.add(params.blur, \"ITERATIONS\", 0, 12, 2).listen();\r\n\r\n        const uniforms = {\r\n\r\n            _Texture: {\r\n                value: this.blurTextureRead.texture\r\n            },\r\n            _Resolution: {\r\n                value: new Vec2(1.0 / this.gl.renderer.width, 1.0 / this.gl.renderer.height)\r\n            },\r\n            _Flip: {\r\n                value: false\r\n            },\r\n            _BlurDirection: {\r\n                value: new Vec2(0.0, 0.0)\r\n            }\r\n\r\n        }\r\n\r\n        this.blurPass = new Mesh(this.gl, {\r\n            geometry: new Triangle(this.gl),\r\n            program: new Program(this.gl, {\r\n                vertex: vert,\r\n                fragment: blur,\r\n                uniforms,\r\n                transparent: false,\r\n                depthTest: false,\r\n                depthWrite: false            \r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    initOpticalFlowPass() {\r\n\r\n        const textureParams = {\r\n            width: this.width,\r\n            height: this.height,\r\n            type: this.gl.HALF_FLOAT || this.gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\r\n            format: this.gl.RGBA,\r\n            internalFormat: this.gl.RGBA16F,\r\n            depth: false\r\n        }\r\n\r\n        this.flowVectorTextureWrite = new RenderTarget(this.gl, textureParams);\r\n        this.flowVectorTextureRead = new RenderTarget(this.gl, textureParams);\r\n\r\n        // const opticalFlowparams = gui.addFolder(\"Optical Flow\");\r\n        // opticalFlowparams.add(params.opticalFlow, \"TINY\",  0.001, 1.0, 0.0001).listen();\r\n        // opticalFlowparams.add(params.opticalFlow, \"THRESHOLD\", 0.0, 20.0, 0.001).listen();\r\n        // opticalFlowparams.add(params.opticalFlow, \"OFFSETSCALE\", 1.0, 5.0, 0.5).listen();\r\n        // opticalFlowparams.add(params.opticalFlow, \"FADE\", 0.0, 0.99).listen();\r\n\r\n        // this.opticalFlowScene = new Transform();\r\n        const uniforms = {\r\n\r\n            _CurrentFrame: {\r\n                value: this.currentFrame.texture\r\n            },\r\n\r\n            _PrevFrame: {\r\n                value: this.prevFrame.texture\r\n            },\r\n\r\n            _PrevFlow: {\r\n                value: this.flowVectorTextureRead.texture\r\n            },\r\n            _Resolution: {\r\n                value: new Vec2(this.gl.renderer.width, this.gl.renderer.height)\r\n            },\r\n            _TexelSize: {\r\n                value: new Vec2(1.0 / 640, 1.0 / 480)\r\n                // value: new Vec2(0.1, 0.1)\r\n            },\r\n            _Tiny: {\r\n                value: params.opticalFlow.TINY\r\n            },\r\n            _Threshold: {\r\n                value: params.opticalFlow.THRESHOLD\r\n            },\r\n            _Fade: {\r\n                value: params.opticalFlow.FADE\r\n            },\r\n            _OffsetScale: {\r\n                value: params.opticalFlow.OFFSETSCALE\r\n            },\r\n            _Scale: {\r\n                value: 10\r\n            }\r\n\r\n        }\r\n\r\n        this.opticalFlowPass = new Mesh(this.gl, {\r\n            geometry: new Triangle(this.gl),\r\n            program: new Program(this.gl, {\r\n                uniforms,\r\n                vertex: vert,\r\n                fragment: opticalFlowFrag,\r\n                transparent: false,\r\n                depthTest: false,\r\n                depthWrite: false\r\n            })\r\n        });\r\n\r\n\r\n    }\r\n\r\n    blurInputVideo() {\r\n\r\n        const blurIterationCount = params.blur.ITERATIONS;\r\n        this.blurPass.program.uniforms._Resolution.value.set(1.0 / this.gl.renderer.width, 1.0 / this.gl.renderer.height);\r\n\r\n        // this.gl.renderer.autoClear = false;\r\n\r\n        for (let i = 0; i < blurIterationCount; i++) {\r\n\r\n            let blurRadius = (blurIterationCount - i - 1);\r\n\r\n            this.blurPass.program.uniforms._Texture.value = i === 0 ? this.cameraFrame : this.blurTextureRead.texture;\r\n            this.blurPass.program.uniforms._BlurDirection.value.set(i % 2 === 0 ? blurRadius : 0, i % 2 === 0 ? 0 : blurRadius);\r\n\r\n            this.gl.renderer.render({\r\n                scene: this.blurPass,\r\n                target: this.blurTextureWrite,\r\n                clear: false\r\n            });\r\n\r\n            let tmp = this.blurTextureRead;\r\n            this.blurTextureRead = this.blurTextureWrite;\r\n            this.blurTextureWrite = tmp;\r\n\r\n        }\r\n\r\n        // this.gl.renderer.autoClear = true;\r\n\r\n    }\r\n\r\n    saveCameraFrame() {\r\n\r\n        let tmp = this.prevFrame;\r\n        this.prevFrame = this.currentFrame;\r\n        this.currentFrame = tmp;\r\n\r\n        this.cameraCapturePass.program.uniforms._CameraFrame.value = this.blurTextureRead.texture;\r\n        this.gl.renderer.render({\r\n            scene: this.cameraCapturePass,\r\n            target: this.currentFrame\r\n        });\r\n\r\n        //prewarm to prevent spike in optical flow\r\n        if(this.firstTick) {\r\n\r\n            let tmp2 = this.prevFrame;\r\n            this.prevFrame = this.currentFrame;\r\n            this.currentFrame = tmp2;\r\n            \r\n            this.cameraCapturePass.program.uniforms._CameraFrame.value = this.prevFrame.texture;\r\n            this.gl.renderer.render({\r\n                scene: this.cameraCapturePass,\r\n                target: this.currentFrame\r\n            });\r\n            \r\n            this.firstTick = false;\r\n\r\n        }\r\n\r\n    }\r\n\r\n    update({\r\n        inputVideo\r\n    }) {\r\n\r\n        this.cameraFrame = inputVideo\r\n        this.blurInputVideo();\r\n        this.saveCameraFrame();\r\n\r\n        this.opticalFlowPass.program.uniforms._CurrentFrame.value = this.currentFrame.texture;\r\n        this.opticalFlowPass.program.uniforms._PrevFrame.value = this.prevFrame.texture;\r\n        // this.opticalFlowPass.program.uniforms._PrevFlow.value = this.flowVectorTextureRead.texture;\r\n        this.opticalFlowPass.program.uniforms._Tiny.value = params.opticalFlow.TINY;\r\n        this.opticalFlowPass.program.uniforms._Threshold.value = params.opticalFlow.THRESHOLD;\r\n        this.opticalFlowPass.program.uniforms._OffsetScale.value = params.opticalFlow.OFFSETSCALE;\r\n        this.opticalFlowPass.program.uniforms._Fade.value = params.opticalFlow.FADE;\r\n        this.opticalFlowPass.program.uniforms._Resolution.value.set(this.gl.renderer.width, this.gl.renderer.height);\r\n\r\n        this.gl.renderer.render({\r\n            scene: this.opticalFlowPass,\r\n            target: this.flowVectorTextureWrite,\r\n            clear: true\r\n        });\r\n\r\n        // let tmp = this.flowVectorTextureRead;\r\n        // this.flowVectorTextureRead = this.flowVectorTextureWrite;\r\n        // this.flowVectorTextureWrite = tmp;\r\n\r\n    }\r\n\r\n}","import { Camera } from '../core/Camera.js';\r\nimport { Program } from '../core/Program.js';\r\nimport { RenderTarget } from '../core/RenderTarget.js';\r\n\r\nexport class Shadow {\r\n    constructor(gl, { light = new Camera(gl), width = 1024, height = width }) {\r\n        this.gl = gl;\r\n\r\n        this.light = light;\r\n\r\n        this.target = new RenderTarget(gl, { width, height });\r\n\r\n        this.depthProgram = new Program(gl, {\r\n            vertex: defaultVertex,\r\n            fragment: defaultFragment,\r\n            cullFace: null,\r\n        });\r\n\r\n        this.castMeshes = [];\r\n    }\r\n\r\n    add({\r\n        mesh,\r\n        receive = true,\r\n        cast = true,\r\n        vertex = defaultVertex,\r\n        fragment = defaultFragment,\r\n        uniformProjection = 'shadowProjectionMatrix',\r\n        uniformView = 'shadowViewMatrix',\r\n        uniformTexture = 'tShadow',\r\n    }) {\r\n        // Add uniforms to existing program\r\n        if (receive && !mesh.program.uniforms[uniformProjection]) {\r\n            mesh.program.uniforms[uniformProjection] = { value: this.light.projectionMatrix };\r\n            mesh.program.uniforms[uniformView] = { value: this.light.viewMatrix };\r\n            mesh.program.uniforms[uniformTexture] = { value: this.target.texture };\r\n        }\r\n\r\n        if (!cast) return;\r\n        this.castMeshes.push(mesh);\r\n\r\n        // Store program for when switching between depth override\r\n        mesh.colorProgram = mesh.program;\r\n\r\n        // Check if depth program already attached\r\n        if (mesh.depthProgram) return;\r\n\r\n        // Use global depth override if nothing custom passed in\r\n        if (vertex === defaultVertex && fragment === defaultFragment) {\r\n            mesh.depthProgram = this.depthProgram;\r\n            return;\r\n        }\r\n\r\n        // Create custom override program\r\n        mesh.depthProgram = new Program(this.gl, {\r\n            vertex,\r\n            fragment,\r\n            uniforms: mesh.program.uniforms !== null ? mesh.program.uniforms : null,\r\n            cullFace: null,\r\n        });\r\n    }\r\n\r\n    render({ scene }) {\r\n        // For depth render, replace program with depth override.\r\n        // Hide meshes not casting shadows.\r\n        scene.traverse((node) => {\r\n            if (!node.draw) return;\r\n            if (!!~this.castMeshes.indexOf(node)) {\r\n                \r\n                // let u;\r\n                // if(node.program.uniforms) {\r\n                //     u = node.program.uniforms;\r\n                // }\r\n\r\n                node.program = node.depthProgram;\r\n                // node.program.uniforms = u;\r\n            } else {\r\n                node.isForceVisibility = node.visible;\r\n                node.visible = false;\r\n            }\r\n        });\r\n\r\n        // Render the depth shadow map using the light as the camera\r\n        this.gl.renderer.render({\r\n            scene,\r\n            camera: this.light,\r\n            target: this.target,\r\n        });\r\n\r\n        // Then switch the program back to the normal one\r\n        scene.traverse((node) => {\r\n            if (!node.draw) return;\r\n            if (!!~this.castMeshes.indexOf(node)) {\r\n                node.program = node.colorProgram;\r\n            } else {\r\n                node.visible = node.isForceVisibility;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nconst defaultVertex = /* glsl */ `\r\n    attribute vec3 position;\r\n    attribute vec2 uv;\r\n\r\n    uniform mat4 modelViewMatrix;\r\n    uniform mat4 projectionMatrix;\r\n\r\n    void main() {\r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    }\r\n`;\r\n\r\nconst defaultFragment = /* glsl */ `\r\n    precision highp float;\r\n\r\n    vec4 packRGBA (float v) {\r\n        vec4 pack = fract(vec4(1.0, 255.0, 65025.0, 16581375.0) * v);\r\n        pack -= pack.yzww * vec2(1.0 / 255.0, 0.0).xxxy;\r\n        return pack;\r\n    }\r\n\r\n    void main() {\r\n        gl_FragColor = packRGBA(gl_FragCoord.z);\r\n    }\r\n`;\r\n","import { Program } from '../core/Program.js';\r\nimport { Mesh } from '../core/Mesh.js';\r\nimport { Texture } from '../core/Texture.js';\r\nimport { RenderTarget } from '../core/RenderTarget.js';\r\nimport { Triangle } from './Triangle.js';\r\n\r\nexport class GPGPU {\r\n    constructor(\r\n        gl,\r\n        {\r\n            // Always pass in array of vec4s (RGBA values within texture)\r\n            data = new Float32Array(16),\r\n            geometry = new Triangle(gl),\r\n            type, // Pass in gl.FLOAT to force it, defaults to gl.HALF_FLOAT\r\n        }\r\n    ) {\r\n        this.gl = gl;\r\n        const initialData = data;\r\n        this.passes = [];\r\n        this.geometry = geometry;\r\n        this.dataLength = initialData.length / 4;\r\n\r\n        // Windows and iOS only like power of 2 textures\r\n        // Find smallest PO2 that fits data\r\n        this.size = Math.pow(2, Math.ceil(Math.log(Math.ceil(Math.sqrt(this.dataLength))) / Math.LN2));\r\n\r\n        // Create coords for output texture\r\n        this.coords = new Float32Array(this.dataLength * 2);\r\n        for (let i = 0; i < this.dataLength; i++) {\r\n            const x = (i % this.size) / this.size; // to add 0.5 to be center pixel ?\r\n            const y = Math.floor(i / this.size) / this.size;\r\n            this.coords.set([x, y], i * 2);\r\n        }\r\n\r\n        // Use original data if already correct length of PO2 texture, else copy to new array of correct length\r\n        const floatArray = (() => {\r\n            if (initialData.length === this.size * this.size * 4) {\r\n                return initialData;\r\n            } else {\r\n                const a = new Float32Array(this.size * this.size * 4);\r\n                a.set(initialData);\r\n                return a;\r\n            }\r\n        })();\r\n\r\n        // Create output texture uniform using input float texture with initial data\r\n        this.uniform = {\r\n            value: new Texture(gl, {\r\n                image: floatArray,\r\n                target: gl.TEXTURE_2D,\r\n                type: gl.FLOAT,\r\n                format: gl.RGBA,\r\n                internalFormat: gl.renderer.isWebgl2 ? gl.RGBA32F : gl.RGBA,\r\n                wrapS: gl.CLAMP_TO_EDGE,\r\n                wrapT: gl.CLAMP_TO_EDGE,\r\n                generateMipmaps: false,\r\n                minFilter: gl.NEAREST,\r\n                magFilter: gl.NEAREST,\r\n                width: this.size,\r\n                flipY: false,\r\n            }),\r\n        };\r\n\r\n        // Create FBOs\r\n        const options = {\r\n            width: this.size,\r\n            height: this.size,\r\n            type: type || gl.HALF_FLOAT || gl.renderer.extensions['OES_texture_half_float'].HALF_FLOAT_OES,\r\n            format: gl.RGBA,\r\n            internalFormat: gl.renderer.isWebgl2 ? (type === gl.FLOAT ? gl.RGBA32F : gl.RGBA16F) : gl.RGBA,\r\n            minFilter: gl.NEAREST,\r\n            depth: false,\r\n            unpackAlignment: 1,\r\n        };\r\n\r\n        this.fbo = {\r\n            read: new RenderTarget(gl, options),\r\n            write: new RenderTarget(gl, options),\r\n            swap: () => {\r\n                let temp = this.fbo.read;\r\n                this.fbo.read = this.fbo.write;\r\n                this.fbo.write = temp;\r\n                this.uniform.value = this.fbo.read.texture;\r\n            },\r\n        };\r\n    }\r\n\r\n    addPass({ vertex = defaultVertex, fragment = defaultFragment, uniforms = {}, textureUniform = 'tMap', enabled = true } = {}) {\r\n        uniforms[textureUniform] = this.uniform;\r\n        const program = new Program(this.gl, { vertex, fragment, uniforms });\r\n        const mesh = new Mesh(this.gl, { geometry: this.geometry, program });\r\n\r\n        const pass = {\r\n            mesh,\r\n            program,\r\n            uniforms,\r\n            enabled,\r\n            textureUniform,\r\n        };\r\n\r\n        this.passes.push(pass);\r\n        return pass;\r\n    }\r\n\r\n    render() {\r\n        const enabledPasses = this.passes.filter((pass) => pass.enabled);\r\n\r\n        enabledPasses.forEach((pass, i) => {\r\n            this.gl.renderer.render({\r\n                scene: pass.mesh,\r\n                target: this.fbo.write,\r\n                clear: false,\r\n            });\r\n            this.fbo.swap();\r\n        });\r\n    }\r\n}\r\n\r\nconst defaultVertex = /* glsl */ `\r\n    attribute vec2 uv;\r\n    attribute vec2 position;\r\n\r\n    varying vec2 vUv;\r\n\r\n    void main() {\r\n        vUv = uv;\r\n        gl_Position = vec4(position, 0, 1);\r\n    }\r\n`;\r\n\r\nconst defaultFragment = /* glsl */ `\r\n    precision highp float;\r\n\r\n    uniform sampler2D tMap;\r\n    varying vec2 vUv;\r\n\r\n    void main() {\r\n        gl_FragColor = texture2D(tMap, vUv);\r\n    }\r\n`;\r\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D tMap;\\nuniform sampler2D _Position;\\nuniform sampler2D _OpticalFlow;\\n\\nuniform mat4 _TextureProjectionMatrix;\\nuniform float _Aspect;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    vec4 pos = texture2D(_Position, vUv);\\n    vec3 currentCapturedVel = texture2D(tMap, vUv).xyz;\\n    float life = pos.w;\\n    \\n    //if particle is recently spawned: get the color at the spawned location\\n    if(life >= 1.0) {\\n\\n        vec4 clipPos = _TextureProjectionMatrix * vec4(pos.xyz, 1.0);\\n        clipPos /= clipPos.w;\\n        clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n        // float aspect = (_Resolution.x / _Resolution.y) / (640.0/480.0);\\n        clipPos -= 0.5;\\n        clipPos.y /= _Aspect;\\n        clipPos += 0.5;\\n\\n        currentCapturedVel = texture2D(_OpticalFlow, clipPos.xy).xyz;\\n\\n    }\\n\\n    gl_FragColor = vec4(currentCapturedVel, 1.0);\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D tMap;\\nuniform sampler2D _OpticalFlow;\\nuniform sampler2D _Velocity;\\nuniform sampler2D _Params;\\n\\nuniform mat4 _TextureProjectionMatrix;\\n\\nuniform float _Seed;\\nuniform float _Aspect;\\nuniform vec2 _Bounds;\\n\\nvarying vec2 vUv;\\n\\nvec2 hash22(vec2 p)\\n{\\n\\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\\n    p3 += dot(p3, p3.yzx+33.33);\\n    return fract((p3.xx+p3.yz)*p3.zy);\\n\\n}\\n\\nvoid main() {\\n\\n    vec4 pos = texture2D(tMap, vUv);\\n    vec3 vel = texture2D(_Velocity, vUv).xyz;\\n    float lifeRate = texture2D(_Params, vUv).x;\\n\\n    float life = pos.w;\\n\\n    if(life <= 0.0) {\\n\\n        life = 0.0;\\n        //generate random position\\n        vec2 hash = hash22(vec2(gl_FragCoord.xy * 10.0 + _Seed));\\n        pos.x = mix(-_Bounds.x, _Bounds.x, hash.x);\\n        pos.y = mix(-_Bounds.y, _Bounds.y, hash.y);\\n\\n        //get clip position of random position\\n        vec4 clipPos = _TextureProjectionMatrix * vec4(pos.x, pos.y, 0.0, 1.0);\\n        clipPos /= clipPos.w;\\n        clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n        //aspect correct\\n        clipPos -= 0.5;\\n        clipPos.y /= _Aspect;\\n        clipPos += 0.5;\\n\\n        //Sample optical flow texture and get it's length\\n        vec3 opticalFlow = texture2D(_OpticalFlow, clipPos.xy).xyz;\\n        float opticalFlowMag = dot(opticalFlow, opticalFlow);\\n        // pos.w = 1.0;\\n        //if there is motion at the sampled location, assign the random position\\n        //as new position and restore lifespan\\n        if(opticalFlowMag > 0.0) {\\n            pos.xyz = vec3(pos.x, pos.y, 0.0);\\n            life = 1.0;\\n        }\\n\\n    } else {\\n        \\n        pos.xyz += vel.xyz;\\n        // life -= mix(0.005, 0.02, lifeRate);\\n        // life -= mix(0.005, 0.02, lifeRate);\\n        life -= mix(0.01, 0.02, lifeRate);\\n\\n    }\\n\\n    gl_FragColor = vec4(pos.xyz, life);\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D tMap;\\nuniform sampler2D _OpticalFlowVelocity;\\nuniform float _Force;\\nuniform float _Inertia;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    vec4 vel = texture2D(tMap, vUv);\\n    vec3 opticalFlowVel = texture2D(_OpticalFlowVelocity, vUv).xyz;\\n    vec3 acc = vec3(0.0, 0.0, 0.0);\\n\\n    // acc += (opticalFlowVel * _Force);\\n    acc += (opticalFlowVel * mix(0.0005, 0.002, _Force));\\n\\n    vel.xyz += acc;\\n    vel.xyz *= _Inertia;\\n    vel.w = length(opticalFlowVel);\\n\\n    gl_FragColor = vel;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D tMap;\\nuniform sampler2D _Position;\\nuniform sampler2D _OpticalFlow;\\nuniform sampler2D _InputImg;\\n\\nuniform mat4 _TextureProjectionMatrix;\\nuniform vec2 _Resolution;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n    vec4 pos = texture2D(_Position, vUv);\\n    vec3 currentCol = texture2D(tMap, vUv).xyz;\\n    float life = pos.w;\\n    \\n    //if particle is recently spawned: get the color at the spawned location\\n    if(life >= 1.0) {\\n\\n        vec4 clipPos = _TextureProjectionMatrix * vec4(pos.xyz, 1.0);\\n        clipPos.xy = clipPos.xy * 0.5 + 0.5;\\n\\n        float aspect = (_Resolution.x / _Resolution.y) / (640.0/480.0);\\n        clipPos -= 0.5;\\n        clipPos.y /= aspect;\\n        clipPos += 0.5;\\n\\n        currentCol = texture2D(_InputImg, clipPos.xy).xyz;\\n\\n    }\\n\\n    gl_FragColor = vec4(currentCol, 1.0);\\n\\n}\";","import {GPGPU} from '../../../Vendors/ogl/src/extras/GPGPU';\r\nimport { Texture } from '../../../Vendors/ogl/src/core/Texture';\r\nimport {params} from '../../params.js';\r\nimport { Vec2 } from '../../../Vendors/ogl/src/math/Vec2';\r\nimport { Mat4 } from '../../../Vendors/ogl/src/math/Mat4';\r\n\r\nconst velocityCaptureKernel = require('./kernels/velocityCapture.frag');\r\nconst positionKernel = require('./kernels/position.frag');\r\nconst velocityKernel = require('./kernels/velocity.frag');\r\nconst colorCaptureKernel = require('./kernels/colorCapture.frag');\r\n\r\nexport default class Simulator {\r\n\r\n    constructor(gl, {width, height, camera}) {\r\n        \r\n        this.gl = gl;\r\n\r\n        this.countX = width;\r\n        this.countY = height;\r\n        this.camera = camera;\r\n        this.viewportWidth;\r\n        this.viewportHeight;\r\n\r\n        this.modelViewMatrix = new Mat4();\r\n        this.viewProjectionMatrix = new Mat4();\r\n\r\n        this.calcViewportDimensions();\r\n        this.initEvents();\r\n        this.initVelocityCapture();\r\n        this.initVelocity();\r\n        this.initPosition();\r\n        \r\n    }\r\n\r\n    calcViewportDimensions() {\r\n\r\n        const dist = this.camera.position.z;\r\n        this.viewportHeight = Math.tan((this.camera.fov * (Math.PI / 180.0)) * 0.5) * dist;\r\n        this.viewportWidth = this.viewportHeight * this.camera.aspect;\r\n    }\r\n\r\n    initEvents() {\r\n\r\n        window.addEventListener('resize', this.onResize);\r\n\r\n    }\r\n\r\n    initVelocityCapture() {\r\n\r\n        const initCapturedVelocityData = new Float32Array(this.countX * this.countY * 4);\r\n        this.velocityCapture = new GPGPU(this.gl, {data: initCapturedVelocityData});\r\n\r\n        const uniforms = {\r\n\r\n            _OpticalFlow: {\r\n                value: new Texture(this.gl)\r\n            },\r\n            _Position: null,\r\n            _TextureProjectionMatrix: {\r\n                value: this.viewProjectionMatrix\r\n            },\r\n            _Aspect: {\r\n                value: (this.gl.renderer.width / this.gl.renderer.height) / (640.0 / 480.0)\r\n            }\r\n\r\n        }\r\n\r\n        this.velocityCapture.addPass({\r\n            fragment: velocityCaptureKernel,\r\n            uniforms\r\n        });\r\n\r\n    }\r\n\r\n    initVelocity() {\r\n\r\n        const initVelocityData = new Float32Array(this.countX * this.countY * 4.0);\r\n        this.velocity = new GPGPU(this.gl, {data: initVelocityData});\r\n\r\n        // const velocityParams = gui.addFolder(\"velocity\");\r\n        // velocityParams.add(params.simulation.velocity, \"FORCE\", 0.0001, 0.002).listen();\r\n        // velocityParams.add(params.simulation.velocity, \"FORCE\", 0.0, 1.0).listen();\r\n        gui.add(params.simulation.velocity, \"INERTIA\", 0.1, 0.99).listen();\r\n\r\n        const uniforms = {\r\n\r\n            _OpticalFlowVelocity: null,\r\n            _Position: null,\r\n            _Force: {\r\n                value: params.simulation.velocity.FORCE \r\n            },\r\n            _Inertia: {\r\n                value: params.simulation.velocity.INERTIA\r\n            },\r\n            _Aspect: {\r\n                value: (this.gl.renderer.width / this.gl.renderer.height) / (640.0 / 480.0)\r\n            }\r\n\r\n        }\r\n\r\n        this.velocity.addPass({\r\n            fragment: velocityKernel,\r\n            uniforms\r\n        });\r\n\r\n    }\r\n\r\n    initPosition() {\r\n\r\n        const initPositionData = new Float32Array(this.countX * this.countY * 4);\r\n        const widthBounds = this.viewportWidth;\r\n        const heightBounds = this.viewportHeight;\r\n\r\n        let positionIterator = 0;\r\n\r\n        for(let y = 0; y < this.countY; y++) {\r\n            for(let x = 0; x < this.countX; x++) {\r\n\r\n                let posX = (Math.random() * 2.0 - 1.0) * widthBounds;\r\n                let posY = (Math.random() * 2.0 - 1.0) * heightBounds;\r\n                \r\n                // initSpawnPositionData[(spawnPositionIterator * 4.0) + 0] = posX;\r\n                // initSpawnPositionData[(spawnPositionIterator * 4.0) + 1] = posY;\r\n                // initSpawnPositionData[(spawnPositionIterator * 4.0) + 2] = 0.0;\r\n                // initSpawnPositionData[(spawnPositionIterator * 4.0) + 3] = 0.0;\r\n\r\n                // spawnPositionIterator++;\r\n\r\n                initPositionData[positionIterator++] = posX;\r\n                initPositionData[positionIterator++] = posY;\r\n                initPositionData[positionIterator++] = 0.0;\r\n                initPositionData[positionIterator++] = 0.0;\r\n\r\n            }\r\n\r\n        }\r\n\r\n        const paramsData = new Float32Array(this.countX * this.countY * 4.0);\r\n        let paramsDataIterator = 0;\r\n        for(let i = 0; i < this.countX * this.countY; i++) {\r\n\r\n            paramsData[paramsDataIterator++] = Math.random();\r\n            paramsData[paramsDataIterator++] = Math.random();\r\n            paramsData[paramsDataIterator++] = Math.random();\r\n            paramsData[paramsDataIterator++] = Math.random();\r\n\r\n        }\r\n\r\n        const paramsTexture = this.createDataTexture({data: paramsData, size: this.countX});\r\n\r\n        this.position = new GPGPU(this.gl, {data: initPositionData});\r\n\r\n        const uniforms = {\r\n            _OpticalFlow: {\r\n                value: new Texture(this.gl)\r\n            },\r\n            _TextureProjectionMatrix: {\r\n                value: this.viewProjectionMatrix\r\n            },\r\n            _Aspect: {\r\n                value: (this.gl.renderer.width / this.gl.renderer.height) / (640.0 / 480.0)\r\n            },\r\n            _Velocity: {\r\n                value: null\r\n            },\r\n            _Params: {\r\n                value: paramsTexture\r\n            },\r\n            _Bounds: {\r\n                value: new Vec2(widthBounds, heightBounds)\r\n            },\r\n            _Seed: {\r\n                value: 0\r\n            }\r\n        }\r\n\r\n        this.position.addPass({\r\n            fragment: positionKernel,\r\n            uniforms\r\n        });\r\n\r\n    }\r\n\r\n    initColorCapture() {\r\n\r\n        const initColorData = new Float32Array(this.countX * this.countY * 4);\r\n        this.colorCapture = new GPGPU(this.gl, {data: initColorData});\r\n\r\n        const uniforms = {\r\n            _OpticalFlow: {\r\n                value: new Texture(this.gl)\r\n            },\r\n            _TextureProjectionMatrix: {\r\n                value: this.viewProjectionMatrix\r\n            },\r\n            _InputImg: {\r\n                value: new Texture(this.gl)\r\n            },\r\n            _Resolution: {\r\n                value: new Vec2(this.gl.renderer.width, this.gl.renderer.height)\r\n            },\r\n            _Position: null\r\n        }\r\n\r\n        this.colorCapture.addPass({\r\n            fragment: colorCaptureKernel,\r\n            uniforms\r\n        });\r\n\r\n    }\r\n\r\n    captureVelocity({opticalFlow}) {\r\n\r\n        this.velocityCapture.passes[0].program.uniforms._OpticalFlow.value = opticalFlow;\r\n        this.velocityCapture.passes[0].program.uniforms._Position = this.position.uniform;\r\n        this.velocityCapture.render();\r\n\r\n    }\r\n\r\n    updateVelocity() {\r\n\r\n        this.velocity.passes[0].program.uniforms._Position = this.position.uniform;\r\n        this.velocity.passes[0].program.uniforms._OpticalFlowVelocity = this.velocityCapture.uniform;\r\n        this.velocity.passes[0].program.uniforms._Force.value = params.simulation.velocity.FORCE;\r\n        this.velocity.passes[0].program.uniforms._Inertia.value = params.simulation.velocity.INERTIA;\r\n        this.velocity.render();\r\n\r\n    }\r\n\r\n    updatePosition({opticalFlow, t}) {\r\n\r\n        this.position.passes[0].program.uniforms._Velocity = this.velocity.uniform;\r\n        this.position.passes[0].program.uniforms._OpticalFlow.value = opticalFlow;\r\n        this.position.passes[0].program.uniforms._Seed.value += t;\r\n        this.position.passes[0].uniforms._Bounds.value.set(this.viewportWidth, this.viewportHeight);\r\n        this.position.render();\r\n    }\r\n\r\n    update({opticalFlow, worldMatrix, t}) {\r\n\r\n        this.modelViewMatrix.multiply(this.camera.viewMatrix, worldMatrix);\r\n        this.viewProjectionMatrix.multiply(this.camera.projectionMatrix, this.modelViewMatrix);\r\n\r\n        this.updateVelocity();\r\n        this.updatePosition({opticalFlow, t});\r\n        this.captureVelocity({opticalFlow});\r\n\r\n    }\r\n\r\n    get Velocity() {\r\n        return this.velocity.uniform\r\n    }\r\n\r\n    get Position() {\r\n        return this.position.uniform\r\n    }\r\n\r\n    createDataTexture({data, size}) {\r\n\r\n        return new Texture(this.gl, {\r\n            image: data,\r\n            target: this.gl.TEXTURE_2D,\r\n            type: this.gl.FLOAT,\r\n            format: this.gl.RGBA,\r\n            internalFormat: this.gl.renderer.isWebgl2 ? this.gl.RGBA32F : this.gl.RGBA,\r\n            wrapS: this.gl.CLAMP_TO_EDGE,\r\n            wrapT: this.gl.CLAMP_TO_EDGE,\r\n            generateMipmaps: false,\r\n            minFilter: this.gl.NEAREST,\r\n            magFilter: this.gl.NEAREST,\r\n            width: size,\r\n            flipY: false\r\n        })\r\n\r\n    }\r\n\r\n    onResize = () => {\r\n\r\n        this.calcViewportDimensions();\r\n        const aspect = (this.gl.renderer.width / this.gl.renderer.height) / (640.0 / 480.0);\r\n        this.position.passes[0].program.uniforms._Aspect.value = aspect;\r\n        this.velocity.passes[0].program.uniforms._Aspect.value = aspect;\r\n        this.velocityCapture.passes[0].program.uniforms._Aspect.value = aspect;\r\n\r\n    }\r\n\r\n}","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec3 worldPosition;\\n// attribute vec3 normal;\\nattribute vec2 uv;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform mat4 modelMatrix;\\n// uniform mat3 normalMatrix;\\n\\nuniform mat4 shadowProjectionMatrix;\\nuniform mat4 shadowViewMatrix;\\n\\nuniform sampler2D _Position;\\nuniform sampler2D _Velocity;\\n\\nvarying vec2 vUv;\\nvarying vec4 vShadowCoord;\\nvarying vec3 vNormal;\\nvarying float vLife;\\nvarying vec3 vWorldPos;\\nvarying float vVelocity;\\n\\n// #define SCALE 0.0085\\n// #define SCALE 0.0085\\n// #define SCALE 0.0075\\n// #define SCALE 0.035\\n#define SCALE 0.025\\n\\nvoid main() {\\n\\n    vec4 worldPos = texture2D(_Position, worldPosition.xy);\\n    float velocityScale = texture2D(_Velocity, worldPosition.xy).w;\\n\\n    float scalePhase = (worldPos.w * 4.0 * (1.0 - worldPos.w));\\n    // float scalePhase = worldPos.w;\\n\\n    vec4 modelViewPos = modelViewMatrix * vec4(worldPos.xyz, 1.0);\\n    modelViewPos.xy += position.xy * SCALE * scalePhase * mix(0.7, 1.1, min(1.0, velocityScale));\\n\\n    gl_Position = projectionMatrix * modelViewPos;\\n\\n    vec4 shadowModelViewPos = shadowViewMatrix * modelMatrix * vec4(worldPos.xyz, 1.0);\\n    //shadowModelViewPos.xy += position.xy * SCALE* scalePhase;\\n    vec4 shadowCoord = shadowProjectionMatrix * shadowModelViewPos;\\n    vShadowCoord = shadowCoord;\\n\\n    vUv = uv;\\n    // vNormal = normal;\\n    vLife = worldPos.w;\\n    vWorldPos = worldPos.xyz;\\n    vVelocity = velocityScale;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D _Normal;\\nuniform sampler2D tShadow;\\n\\nuniform vec2 _Resolution;\\nuniform float _ShadowMapTexelSize;\\nuniform float _ShadowWeight;\\nuniform float _Bias;\\nuniform mat3 normalMatrix;\\n\\nvarying vec2 vUv;\\nvarying vec4 vShadowCoord;\\nvarying vec3 vNormal;\\nvarying float vLife;\\nvarying vec3 vWorldPos;\\nvarying float vVelocity;\\n\\n// #define LIGHT vec3(0.0, 10.0, 2.0)\\n#define LIGHT vec3(0.0, 10.0, 1.0)\\n\\nfloat unpackRGBA (vec4 v) {\\n    return dot(v, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0));\\n}\\n\\nvec2 hash22(in vec2 p)\\n{\\n\\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\\n    p3 += dot(p3, p3.yzx+33.33);\\n    return fract((p3.xx+p3.yz)*p3.zy);\\n\\n}\\n\\nfloat softShadow(in vec3 shadowCoord) {\\n\\n    //if particle is outside the shadowmap, then it's for sure not being occluded\\n    if(shadowCoord.x < 0.0 || shadowCoord.x > 1.0) return 1.0;\\n    if(shadowCoord.y < 0.0 || shadowCoord.y > 1.0) return 1.0;\\n    if(shadowCoord.z < 0.0 || shadowCoord.z > 1.0) return 1.0;\\n\\n    float shadow = 9.0;\\n    for(int y = -1; y <= 1; y++) {\\n        for(int x = -1; x <= 1; x++) {\\n\\n            vec2 hash = hash22((1000.0 * shadowCoord.xy) + vec2(float(x), float(y))) * 2.0 - 1.0;\\n            // vec2 hash = hash22((1000.0 * shadowCoord.xy) + vec2(float(x), float(y))) - 0.5;\\n            vec2 offset = (vec2(float(x), float(y)) + hash) * _ShadowMapTexelSize;\\n\\n            float sampledShadow = unpackRGBA(texture2D(tShadow, shadowCoord.xy + offset));\\n            if(shadowCoord.z - _Bias > sampledShadow) {\\n                shadow -= 1.0;\\n            }\\n\\n        }\\n    }\\n\\n    return shadow * _ShadowWeight;\\n\\n}\\n\\nvoid main() {\\n    \\n    vec3 normal = texture2D(_Normal, vUv).xyz;\\n    vec2 c = 2.0 * vUv - 1.0;\\n    if(dot(c,c) > 0.8) discard;\\n    normal = normal * 2.0 - 1.0;\\n\\n    float light = max(0.0, dot(normal, normalize(LIGHT)));\\n\\n    vec3 shadowCoord = vShadowCoord.xyz / vShadowCoord.w;\\n    shadowCoord = shadowCoord * 0.5 + 0.5;\\n\\n    float shadow = softShadow(shadowCoord.xyz);\\n    vec3 col = vec3(0.61, 0.8, 0.98);\\n    col = mix(col * 0.3, col, light) + (light * 0.2);\\n    col *= mix(0.15, 1.0, shadow);\\n    \\n    gl_FragColor = vec4(col, 1.0);\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec3 worldPosition;\\nattribute vec2 uv;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nuniform sampler2D _Position;\\nuniform sampler2D _Velocity;\\n\\nvarying vec2 vUv;\\nvarying float vLife;\\n\\n// #define SCALE 0.0085\\n// #define SCALE 0.0075\\n// #define SCALE 0.035\\n#define SCALE 0.025\\n\\nvoid main() {\\n\\n    vec4 worldPos = texture2D(_Position, worldPosition.xy);\\n    float velocityScale = texture2D(_Velocity, worldPosition.xy).w;\\n\\n    float scalePhase = (worldPos.w * 4.0 * (1.0 - worldPos.w));\\n\\n    vec4 modelViewPos = modelViewMatrix * vec4(worldPos.xyz, 1.0);\\n    modelViewPos.xy += position.xy * SCALE * scalePhase * mix(0.7, 1.1, min(1.0, velocityScale));\\n\\n    gl_Position = projectionMatrix * modelViewPos;\\n\\n    vUv = uv;\\n    vLife = worldPos.w;\\n\\n}\";","module.exports=\"    precision highp float;\\n#define GLSLIFY 1\\n\\n\\n    uniform sampler2D _Normal;\\n    varying vec2 vUv;\\n    varying float vLife;\\n\\n    vec4 packRGBA (float v) {\\n        vec4 pack = fract(vec4(1.0, 255.0, 65025.0, 16581375.0) * v);\\n        pack -= pack.yzww * vec2(1.0 / 255.0, 0.0).xxxy;\\n        return pack;\\n    }\\n\\n    void main() {\\n\\n        // float normal = texture2D(_Normal, vUv).x;\\n        // if(normal <= 0.0) discard;\\n        vec2 uv = 2.0 * vUv - 1.0;\\n        if(dot(uv, uv) > 1.0) discard;\\n        vec4 depth = packRGBA(gl_FragCoord.z);\\n\\n        gl_FragColor = depth;\\n    }\";","import {Mesh} from '../../Vendors/ogl/src/core/Mesh';\r\nimport {Program} from '../../Vendors/ogl/src/core/Program';\r\nimport {Plane} from '../../Vendors/ogl/src/extras/Plane';\r\nimport {Geometry} from '../../Vendors/ogl/src/core/Geometry';\r\nimport {Shadow} from '../../Vendors/ogl/src/extras/Shadow';\r\n\r\nimport Simulator from './simulation/index.js';\r\nimport { Camera } from '../../Vendors/ogl/src/core/Camera';\r\nimport { Vec2 } from '../../Vendors/ogl/src/math/Vec2';\r\nimport { params } from '../params';\r\n\r\nconst vertex = require('./shader/particles.vert');\r\nconst fragment = require('./shader/particles.frag');\r\n\r\nconst shadowVertex = require('./shader/particlesShadow.vert');\r\nconst shadowFragment = require('./shader/particlesShadow.frag');\r\n\r\nexport default class Particles extends Mesh {\r\n\r\n    constructor(gl, {camera, normal}) {\r\n\r\n        super(gl);\r\n\r\n        this.gl = gl;\r\n\r\n        this.camera = camera;\r\n\r\n        this.countX = 256;\r\n        this.countY = this.countX;\r\n\r\n        this.initSimulator();\r\n        this.initGeometry();\r\n        this.initProgram({normal});\r\n        this.initShadowPass({normal});\r\n\r\n    }\r\n\r\n    initSimulator() {\r\n\r\n        this.simulator = new Simulator(this.gl, {width: this.countX, height: this.countY, camera: this.camera});\r\n\r\n    }\r\n\r\n    initGeometry() {\r\n\r\n        const scale = 0.003;\r\n        const refGeometry = new Plane(this.gl, {width: 1.0, height: 1.0});\r\n        const {position, normal, uv, index} = refGeometry.attributes;\r\n        \r\n        const localPositionData = position.data;\r\n        const normalData = normal.data;\r\n        const uvData = uv.data;\r\n        const indexData = index.data;\r\n        \r\n        this.geometry = new Geometry(this.gl, {\r\n\r\n            position: {\r\n                size: 3,\r\n                data: localPositionData\r\n            },\r\n            worldPosition: {\r\n                instanced: 1,\r\n                size: 2,\r\n                data: this.simulator.position.coords\r\n            },\r\n            uv: {\r\n                size: 2,\r\n                data: uvData\r\n            },\r\n            normal: {\r\n                size: 3,\r\n                data: normalData\r\n            },\r\n            index: {\r\n                data: indexData\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n\r\n    initProgram({normal}) {\r\n\r\n        // const shadowParams = gui.addFolder(\"shadow\");\r\n        // shadowParams.add(params.shadow, \"BIAS\", 0.0, 0.1, 0.0001).listen();\r\n        \r\n        const uniforms = {\r\n\r\n            _Position: this.simulator.Position,\r\n            _Velocity: this.simulator.Velocity,\r\n            _Color: this.simulator.Color,\r\n            _Resolution: {\r\n                value: new Vec2(this.gl.renderer.width, this.gl.renderer.height)\r\n            },\r\n            _ShadowMapTexelSize: {\r\n                value: 1.0 / params.shadow.SIZE\r\n            },\r\n            _ShadowWeight: {\r\n                value: 1.0 / 9.0\r\n            },\r\n            _Bias: {\r\n                value: params.shadow.BIAS\r\n            },\r\n            _Normal: {\r\n                value: normal\r\n            }\r\n\r\n        }\r\n\r\n        this.program = new Program(this.gl, {\r\n            vertex,\r\n            fragment,\r\n            uniforms,\r\n            cullFace: this.gl.BACK,\r\n            transparent: false\r\n        });\r\n\r\n    }\r\n\r\n    initShadowPass({normal}) {\r\n\r\n        this.shadowCamera = new Camera(this.gl, {\r\n            near: 1.0,\r\n            far: 20.0,\r\n            left: -4.0,\r\n            right: 4.0,\r\n            top: 4.0,\r\n            bottom: -4.0\r\n        });\r\n\r\n        // this.shadowCamera.position.set(0.0, 5.0, 5.0);\r\n        // this.shadowCamera.position.set(0.0, 8.0, 0.25);\r\n        // this.shadowCamera.position.set(0.0, 10.0, 1.0);\r\n        // this.shadowCamera.position.set(0.0, 10.0, 2.0);\r\n        this.shadowCamera.position.set(0.0, 10.0, 1.0);\r\n        this.shadowCamera.lookAt([0.0, 0.0, 0.0]);\r\n\r\n        this.shadowPass = new Shadow(this.gl, {light: this.shadowCamera, width: params.shadow.SIZE, height: params.shadow.SIZE});\r\n\r\n        this.shadowPass.add({mesh: this, vertex: shadowVertex, fragment: shadowFragment});\r\n\r\n    }\r\n\r\n    update({scene, opticalFlow, t}) {\r\n\r\n        const worldMatrix = this.worldMatrix;\r\n\r\n        this.simulator.update({opticalFlow, worldMatrix, t});\r\n\r\n        this.depthProgram.uniforms._Position = this.simulator.Position;\r\n        this.depthProgram.uniforms._Velocity = this.simulator.Velocity;\r\n        \r\n        this.shadowPass.render({scene});\r\n\r\n        this.program.uniforms._Position = this.simulator.Position;\r\n        this.program.uniforms._Velocity = this.simulator.Velocity;\r\n\r\n        this.program.uniforms._Bias.value = params.shadow.BIAS;\r\n\r\n    }\r\n\r\n}","import { Geometry } from '../core/Geometry.js';\r\nimport { Vec3 } from '../math/Vec3.js';\r\n\r\nexport class Sphere extends Geometry {\r\n    constructor(\r\n        gl,\r\n        {\r\n            radius = 0.5,\r\n            widthSegments = 16,\r\n            heightSegments = Math.ceil(widthSegments * 0.5),\r\n            phiStart = 0,\r\n            phiLength = Math.PI * 2,\r\n            thetaStart = 0,\r\n            thetaLength = Math.PI,\r\n            attributes = {},\r\n        } = {}\r\n    ) {\r\n        const wSegs = widthSegments;\r\n        const hSegs = heightSegments;\r\n        const pStart = phiStart;\r\n        const pLength = phiLength;\r\n        const tStart = thetaStart;\r\n        const tLength = thetaLength;\r\n\r\n        const num = (wSegs + 1) * (hSegs + 1);\r\n        const numIndices = wSegs * hSegs * 6;\r\n\r\n        const position = new Float32Array(num * 3);\r\n        const normal = new Float32Array(num * 3);\r\n        const uv = new Float32Array(num * 2);\r\n        const index = num > 65536 ? new Uint32Array(numIndices) : new Uint16Array(numIndices);\r\n\r\n        let i = 0;\r\n        let iv = 0;\r\n        let ii = 0;\r\n        let te = tStart + tLength;\r\n        const grid = [];\r\n\r\n        let n = new Vec3();\r\n\r\n        for (let iy = 0; iy <= hSegs; iy++) {\r\n            let vRow = [];\r\n            let v = iy / hSegs;\r\n            for (let ix = 0; ix <= wSegs; ix++, i++) {\r\n                let u = ix / wSegs;\r\n                let x = -radius * Math.cos(pStart + u * pLength) * Math.sin(tStart + v * tLength);\r\n                let y = radius * Math.cos(tStart + v * tLength);\r\n                let z = radius * Math.sin(pStart + u * pLength) * Math.sin(tStart + v * tLength);\r\n\r\n                position[i * 3] = x;\r\n                position[i * 3 + 1] = y;\r\n                position[i * 3 + 2] = z;\r\n\r\n                n.set(x, y, z).normalize();\r\n                normal[i * 3] = n.x;\r\n                normal[i * 3 + 1] = n.y;\r\n                normal[i * 3 + 2] = n.z;\r\n\r\n                uv[i * 2] = u;\r\n                uv[i * 2 + 1] = 1 - v;\r\n\r\n                vRow.push(iv++);\r\n            }\r\n\r\n            grid.push(vRow);\r\n        }\r\n\r\n        for (let iy = 0; iy < hSegs; iy++) {\r\n            for (let ix = 0; ix < wSegs; ix++) {\r\n                let a = grid[iy][ix + 1];\r\n                let b = grid[iy][ix];\r\n                let c = grid[iy + 1][ix];\r\n                let d = grid[iy + 1][ix + 1];\r\n\r\n                if (iy !== 0 || tStart > 0) {\r\n                    index[ii * 3] = a;\r\n                    index[ii * 3 + 1] = b;\r\n                    index[ii * 3 + 2] = d;\r\n                    ii++;\r\n                }\r\n                if (iy !== hSegs - 1 || te < Math.PI) {\r\n                    index[ii * 3] = b;\r\n                    index[ii * 3 + 1] = c;\r\n                    index[ii * 3 + 2] = d;\r\n                    ii++;\r\n                }\r\n            }\r\n        }\r\n\r\n        Object.assign(attributes, {\r\n            position: { size: 3, data: position },\r\n            normal: { size: 3, data: normal },\r\n            uv: { size: 2, data: uv },\r\n            index: { data: index },\r\n        });\r\n\r\n        super(gl, attributes);\r\n    }\r\n}\r\n","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n\\nvarying vec3 vNormal;\\n\\nvoid main() {\\n\\n    gl_Position = vec4(position, 1.0);\\n\\n    vNormal = normal;\\n\\n}\";","module.exports=\"precision highp float;\\n#define GLSLIFY 1\\n\\nvarying vec3 vNormal;\\n\\nvoid main() {\\n\\n    gl_FragColor = vec4(normalize(vNormal) * 0.5 + 0.5, 1.0);\\n\\n}\";","import {Sphere} from '../../Vendors/ogl/src/extras/Sphere';\r\nimport {Program} from '../../Vendors/ogl/src/core/Program';\r\nimport {Transform} from '../../Vendors/ogl/src/core/Transform';\r\nimport {Mesh} from '../../Vendors/ogl/src/core/Mesh';\r\nimport {RenderTarget} from '../../Vendors/ogl/src/core/RenderTarget';\r\n\r\nconst vertex = require('./shader/normal.vert');\r\nconst fragment = require('./shader/normal.frag');\r\n\r\nexport default class SphereNormal {\r\n\r\n    constructor(gl) {\r\n\r\n        this.gl = gl;\r\n\r\n        this.scene = new Transform();\r\n\r\n        this.texture = new RenderTarget(this.gl, {\r\n            width: 128.0,\r\n            height: 128.0,\r\n            depth: false,\r\n            depthTexture: false\r\n        });\r\n\r\n        const geometry = new Sphere(this.gl, {\r\n            radius: 0.9,\r\n            widthSegments: 64.0,\r\n            heightSegments: 32.0\r\n        });\r\n\r\n        const program = new Program(this.gl, {\r\n            vertex,\r\n            fragment,\r\n            depthTest: false,\r\n            depthWrite: false\r\n        });\r\n\r\n        const normalSphere = new Mesh(this.gl, {\r\n            geometry,\r\n            program,\r\n            frustumCulled: false\r\n        });\r\n\r\n        normalSphere.setParent(this.scene);\r\n\r\n        this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n        this.gl.renderer.render({scene: this.scene, target: this.texture});\r\n        // this.gl.clearColor(0.7, 0.7, 0.7, 1.0);\r\n    }\r\n\r\n    get Texture() {\r\n        return this.texture.texture;\r\n    }\r\n\r\n}","import {\r\n    Renderer\r\n} from \"../Vendors/ogl/src/core/Renderer.js\";\r\nimport {\r\n    Camera\r\n} from \"../Vendors/ogl/src/core/Camera.js\";\r\nimport {\r\n    Transform\r\n} from \"../Vendors/ogl/src/core/Transform.js\";\r\nimport { Texture } from \"../Vendors/ogl/src/core/Texture.js\";\r\nimport Quad from \"./Quad/index.js\";\r\nimport Flow from \"./Flow/index.js\";\r\nimport Particles from \"./Particles/index.js\";\r\nimport SphereNormal from \"./SphereNormal/index.js\";\r\n\r\n\r\nexport default class OpticalFlowParticles {\r\n    constructor() {\r\n        this.renderer = new Renderer({\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            antialias: false\r\n        });\r\n\r\n        this.gl = this.renderer.gl;\r\n        this.gl.canvas.style.position = \"absolute\";\r\n        this.gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n        // this.gl.clearColor(0.7, 0.7, 0.7, 1.0);\r\n        this.gl.canvas.style.top = \"0\";\r\n        this.gl.canvas.style.left = \"0\";\r\n        this.gl.canvas.style.width = \"100%\";\r\n        this.gl.canvas.style.height = \"100%\";\r\n        this.gl.canvas.style.overflow = \"hidden\";\r\n        this.gl.canvas.style.zIndex = \"-1\";\r\n        document.body.appendChild(this.gl.canvas);\r\n\r\n        this.scene = new Transform();\r\n\r\n        this.camera = new Camera(this.gl, {\r\n            fov: 35,\r\n            far: 50,\r\n            aspect: window.innerWidth / window.innerHeight\r\n        });\r\n\r\n        this.camera.position.z = 5;\r\n\r\n        this.initVideo();\r\n\r\n        this.initOpticalFlow();\r\n\r\n        this.initParticles();\r\n\r\n        this.initQuad();\r\n\r\n        this.initEvents();\r\n\r\n        this.start();\r\n    }\r\n\r\n    initVideo() {\r\n\r\n        this.streamAvailable = false;\r\n\r\n        this.video = document.createElement(\"video\");\r\n\r\n        this.videoTexture = new Texture(this.gl, {\r\n            generateMipmaps: false,\r\n            width: 640,\r\n            height: 480\r\n        });\r\n\r\n        const options = {\r\n            audio: false,\r\n            video: {\r\n                width: 640,\r\n                height: 480\r\n            }\r\n        };\r\n\r\n        navigator.mediaDevices\r\n            .getUserMedia(options)\r\n            .then(stream => {\r\n                this.video.srcObject = stream;\r\n                this.video.play();\r\n                this.streamAvailable = true;\r\n            })\r\n            .catch(error => {\r\n                console.error(\"no camera found\");\r\n            });\r\n    }\r\n\r\n    initOpticalFlow() {\r\n\r\n        this.flow = new Flow(this.gl, {\r\n            width: 640,\r\n            height: 480\r\n        });\r\n\r\n    }\r\n\r\n    initParticles() {\r\n\r\n        this.sphereNormal = new SphereNormal(this.gl);\r\n\r\n        this.particles = new Particles(this.gl, {camera: this.camera, normal: this.sphereNormal.Texture});\r\n        this.particles.setParent(this.scene);\r\n\r\n    }\r\n\r\n    initQuad() {\r\n\r\n        // this.quad = new Quad(this.gl);\r\n        // this.quad.Output = this.flow.flowVectorTextureRead.texture;\r\n        // this.quad.setParent(this.scene);\r\n\r\n    }\r\n\r\n    initEvents() {\r\n        window.addEventListener(\"resize\", this.onResize);\r\n    }\r\n\r\n    start() {\r\n        this.t = 0.0016;\r\n        this.update();\r\n    }\r\n\r\n    render() {\r\n        this.renderer.render({\r\n            scene: this.scene,\r\n            camera: this.camera\r\n        });\r\n    }\r\n\r\n    update() {\r\n        window.requestAnimationFrame(() => this.update());\r\n        if (this.streamAvailable) {\r\n\r\n            if (this.video.readyState >= this.video.HAVE_CURRENT_DATA) {\r\n\r\n                this.videoTexture.image = this.video;\r\n                this.videoTexture.needsUpdate = true;\r\n\r\n                this.flow.update({\r\n                    inputVideo: this.videoTexture\r\n                });\r\n\r\n            }\r\n\r\n\r\n            this.particles.update({scene: this.scene, opticalFlow: this.flow.flowVectorTextureWrite.texture, t: this.t});\r\n\r\n            // this.quad.update({\r\n            //     inputVideo: this.video\r\n            // });\r\n            // this.quad.Output = this.particles.shadowPass.target.texture;\r\n            // this.quad.Output = this.flow.flowVectorTextureWrite.texture;\r\n\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    onResize = () => {\r\n        const w = window.innerWidth;\r\n        const h = window.innerHeight;\r\n        const aspect = w / h;\r\n        this.renderer.setSize(w, h);\r\n        this.camera.perspective({\r\n            aspect\r\n        });\r\n    };\r\n}","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return obj instanceof Function;\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n      this.__state.space = 'HEX';\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","import OpticalFlowParticles from './index.js';\r\nimport * as dat from 'dat.gui';\r\n\r\nclass App {\r\n\r\n    constructor() {\r\n\r\n        window.gui = new dat.GUI()\r\n        console.log('◕‿◕');\r\n        console.log('douglas@adventureclub.io');\r\n        console.log('douglas.lilliequist@gmail.com');\r\n        console.log('twitter: @DougLilliequist');\r\n        const opticalflowParticles = new OpticalFlowParticles();\r\n        \r\n    }\r\n\r\n}\r\n\r\nwindow.onload = () => new App();"]}